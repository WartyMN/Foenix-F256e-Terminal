/*
 * app.c
 *
 *  Created on: Jan 10, 2023
 *      Author: micahbly
 *
 *  A pseudo commander-style 2-column file manager
 *
 */


/*****************************************************************************/
/*                                Includes                                   */
/*****************************************************************************/


// project includes
#include "app.h"
#include "comm_buffer.h"
#include "debug.h"
#include "dma.h"
#include "general.h"
#include "keyboard.h"
#include "memory.h"
#include "text.h"
#include "screen.h"
#include "serial.h"
#include "startup.h"
#include "strings.h"
#include "sys.h"

// C includes
#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// F256 includes
#include "f256_e.h"
#include "kernel.h"
#include "ff.h"



/*****************************************************************************/
/*                               Definitions                                 */
/*****************************************************************************/

#define CH_PROGRESS_BAR_FULL	CH_CHECKERBOARD
#define PROGRESS_BAR_Y			(COMM_BUFFER_FIRST_ROW - 4)
#define PROGRESS_BAR_START_X	UI_MIDDLE_AREA_START_X
#define PROGRESS_BAR_WIDTH		10	// number of characters in progress bar
#define PROGRESS_BAR_DIVISOR	8	// number of slices in one char: divide % by this to get # of blocks to draw.
#define COLOR_PROGRESS_BAR		COLOR_CYAN

// key <> action mapping
#define ACTION_CYCLE_COLOR		(CH_LC_C + CH_ALT_OFFSET)	// alt-c
#define ACTION_SELECT_FONT_FNX	(CH_LC_F + CH_ALT_OFFSET)	// alt-f
#define ACTION_SELECT_FONT_JA	(CH_LC_J + CH_ALT_OFFSET)	// alt-j
#define ACTION_SELECT_FONT_ANSI	(CH_LC_A + CH_ALT_OFFSET)	// alt-a
#define ACTION_SELECT_FONT_IBM	(CH_LC_I + CH_ALT_OFFSET)	// alt-i
#define ACTION_SET_TIME			(CH_LC_T + CH_ALT_OFFSET)	// alt-t
#define ACTION_ABORT_SESSION	(CH_ESC + CH_ALT_OFFSET)	// alt-ESC
#define ACTION_SET_BAUD_300		(CH_1 + CH_ALT_OFFSET)	// alt-1
#define ACTION_SET_BAUD_1200	(CH_2 + CH_ALT_OFFSET)	// alt-2
#define ACTION_SET_BAUD_2400	(CH_3 + CH_ALT_OFFSET)	// alt-3
#define ACTION_SET_BAUD_3600	(CH_4 + CH_ALT_OFFSET)	// alt-4
#define ACTION_SET_BAUD_4800	(CH_5 + CH_ALT_OFFSET)	// alt-5
#define ACTION_SET_BAUD_9600	(CH_6 + CH_ALT_OFFSET)	// alt-6
#define ACTION_SET_BAUD_19200	(CH_7 + CH_ALT_OFFSET)	// alt-7
#define ACTION_SET_BAUD_38400	(CH_8 + CH_ALT_OFFSET)	// alt-8
#define ACTION_SET_BAUD_57600	(CH_9 + CH_ALT_OFFSET)	// alt-9
#define ACTION_SET_BAUD_115200	(CH_0 + CH_ALT_OFFSET)	// alt-10

#define ACTION_DEBUG_DUMP		(CH_LC_D + CH_ALT_OFFSET)	// alt-d

#define UI_BYTE_SIZE_OF_APP_TITLEBAR	80	// 1 x 80 rows for the title at top


/*****************************************************************************/
/*                          File-scoped Variables                            */
/*****************************************************************************/

static uint8_t				saved_x;
static uint8_t				saved_y;

static uint8_t				app_active_panel_id;	// PANEL_ID_LEFT or PANEL_ID_RIGHT
static uint8_t				app_connected_drive_count;

uint8_t						app_current_baud_config;		// index to app_baud_config[]

const static baud_config	app_baud_config[10] = 
{
	{ACTION_SET_BAUD_115200,	UART_BAUD_DIV_115200,	ID_STR_MSG_SET_BAUD_115200,	ID_STR_BAUD_115200},
	{ACTION_SET_BAUD_300,		UART_BAUD_DIV_300,		ID_STR_MSG_SET_BAUD_300,	ID_STR_BAUD_300},
	{ACTION_SET_BAUD_1200,		UART_BAUD_DIV_1200,		ID_STR_MSG_SET_BAUD_1200,	ID_STR_BAUD_1200},
	{ACTION_SET_BAUD_2400,		UART_BAUD_DIV_2400,		ID_STR_MSG_SET_BAUD_2400,	ID_STR_BAUD_2400},
	{ACTION_SET_BAUD_3600,		UART_BAUD_DIV_3600,		ID_STR_MSG_SET_BAUD_3600,	ID_STR_BAUD_3600},
	{ACTION_SET_BAUD_4800,		UART_BAUD_DIV_4800, 	ID_STR_MSG_SET_BAUD_4800,	ID_STR_BAUD_4800},
	{ACTION_SET_BAUD_9600,		UART_BAUD_DIV_9600,		ID_STR_MSG_SET_BAUD_9600,	ID_STR_BAUD_9600},
	{ACTION_SET_BAUD_19200,		UART_BAUD_DIV_19200,	ID_STR_MSG_SET_BAUD_19200,	ID_STR_BAUD_19200},
	{ACTION_SET_BAUD_38400,		UART_BAUD_DIV_38400,	ID_STR_MSG_SET_BAUD_38400,	ID_STR_BAUD_38400},
	{ACTION_SET_BAUD_57600,		UART_BAUD_DIV_57600,	ID_STR_MSG_SET_BAUD_57600,	ID_STR_BAUD_57600},
};


static uint8_t				app_progress_bar_char[8] = 
{
	CH_SPACE,
	CH_PROGRESS_BAR_CHECKER_CH1,
	CH_PROGRESS_BAR_CHECKER_CH1+1,
	CH_PROGRESS_BAR_CHECKER_CH1+2,
	CH_PROGRESS_BAR_CHECKER_CH1+3,
	CH_PROGRESS_BAR_CHECKER_CH1+4,
	CH_PROGRESS_BAR_CHECKER_CH1+5,
	CH_PROGRESS_BAR_CHECKER_CH1+6,
};


const static uint8_t			app_titlebar_glyphs[UI_BYTE_SIZE_OF_APP_TITLEBAR] = 
{
// solid with angled ends
0x07,0xB9, 32,102,47,116,101,114,109,32,0x46,0x32,0x35,0x36,32, 0xB8,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0xB9,0x07,0x07,0x07, 0x07,0x07,0x07,0xB8, 0x07,0x07,0x07,0x07, 0x07,0x07,0xB9,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0xB8, 0x07, 
};

const static uint8_t			app_titlebar_glyphs_ansi[UI_BYTE_SIZE_OF_APP_TITLEBAR] = 
{
// double H lines with bookends around name
0xCD,0xB5, 32,102,47,116,101,114,109,32,0x46,0x32,0x35,0x36,32, 0xC6,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xB5,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xC6, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xB5,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xC6, 0xCD,
};

const static char		app_font_std[] = {
0x06,0x0D,0x18,0x3E, 0x18,0x33,0x7E,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0x00,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0x00, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0xFF,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0x00, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x00,0x22,0x00, 0x08,0x00,0x02,0x00, 0x88,0x00,0x22,0x00, 0x88,0x00,0x22,0x00, 0x8A,0x00,0x2A,0x00, 0x8A,0x00,0x2A,0x00, 0xAA,0x00,0xAA,0x00, 0xAA,0x00,0xAA,0x00, 0xAA,0x05,0xAA,0x11, 0xAA,0x05,0xAA,0x11, 0xAA,0x5F,0xAA,0x77, 0xAA,0x5F,0xAA,0x77, 0xAA,0xFF,0xAA,0xFF, 0xAA,0xFF,0xAA,0xFF, 0xAF,0xFF,0xBB,0xFF, 0xAF,0xFF,0xBB,0xFF, 0x77,0xFF,0xDD,0xFF, 0x77,0xFF,0xDD,0xFF, 0x7F,0xFF,0xDF,0xFF, 0x77,0xFF,0xDF,0xFF, 0xFF,0xFF,0xDF,0xFF, 0x77,0xFF,0xDD,0xFF, 0xBB,0xFF,0xEE,0xFF, 0xAA,0xFF,0xAA,0xFF, 0xAA,0xFF,0xAA,0x77, 0xAA,0xDD,0xAA,0x55, 0xAA,0x55,0x22,0x55, 0x88,0x55,0x00,0x55, 0xAA,0x00,0xAA,0x00, 0x88,0x00,0x22,0x00, 0x33,0x99,0xCC,0x66, 0x33,0x99,0xCC,0x66, 0xCC,0x99,0x33,0x66, 0xCC,0x99,0x33,0x66, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x18,0x18,0x18,0x18, 0x00,0x00,0x18,0x00, 0x36,0x36,0x36,0x00, 0x00,0x00,0x00,0x00, 0x36,0x36,0x7F,0x36, 0x7F,0x36,0x36,0x00, 0x08,0x3F,0x68,0x3E, 0x0B,0x7E,0x08,0x00, 0x00,0x63,0x66,0x0C, 0x18,0x33,0x63,0x00, 0x38,0x6C,0x6C,0x38, 0x6F,0x66,0x3B,0x00, 0x18,0x18,0x18,0x00, 0x00,0x00,0x00,0x00, 0x06,0x0C,0x18,0x18, 0x18,0x0C,0x06,0x00, 0x30,0x18,0x0C,0x0C, 0x0C,0x18,0x30,0x00, 0x00,0x6B,0x1C,0x7F, 0x1C,0x6B,0x00,0x00, 0x00,0x18,0x18,0x7E, 0x18,0x18,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x18,0x18,0x30, 0x00,0x00,0x00,0x7E, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x18,0x18,0x00, 0x00,0x03,0x06,0x0C, 0x18,0x30,0x60,0x00, 0x3E,0x63,0x67,0x6F, 0x7B,0x73,0x3E,0x00, 0x18,0x38,0x18,0x18, 0x18,0x18,0x3C,0x00, 0x3E,0x63,0x03,0x3E, 0x60,0x60,0x7F,0x00, 0x3E,0x63,0x03,0x1E, 0x03,0x63,0x3E,0x00, 0x06,0x66,0x66,0x66, 0x7F,0x06,0x06,0x00, 0x7F,0x60,0x60,0x7E, 0x03,0x03,0x7E,0x00, 0x3E,0x60,0x60,0x7E, 0x63,0x63,0x3E,0x00, 0x7F,0x63,0x06,0x0C, 0x18,0x18,0x18,0x00, 0x3E,0x63,0x63,0x3E, 0x63,0x63,0x3E,0x00, 0x3E,0x63,0x63,0x3F, 0x03,0x03,0x3E,0x00, 0x00,0x00,0x18,0x00, 0x00,0x18,0x00,0x00, 0x00,0x00,0x18,0x00, 0x00,0x18,0x18,0x30, 0x0C,0x18,0x30,0x60, 0x30,0x18,0x0C,0x00, 0x00,0x00,0x7E,0x00, 0x7E,0x00,0x00,0x00, 0x30,0x18,0x0C,0x06, 0x0C,0x18,0x30,0x00, 0x3E,0x63,0x03,0x0E, 0x18,0x00,0x18,0x00, 0x3E,0x63,0x6F,0x7B, 0x6F,0x60,0x3E,0x00, 0x3E,0x63,0x63,0x7F, 0x63,0x63,0x63,0x00, 0x7E,0x63,0x63,0x7E, 0x63,0x63,0x7E,0x00, 0x3E,0x63,0x60,0x60, 0x60,0x63,0x3E,0x00, 0x7E,0x63,0x63,0x63, 0x63,0x63,0x7E,0x00, 0x7F,0x60,0x60,0x7C, 0x60,0x60,0x7F,0x00, 0x7F,0x60,0x60,0x7C, 0x60,0x60,0x60,0x00, 0x3E,0x63,0x60,0x6F, 0x63,0x63,0x3E,0x00, 0x63,0x63,0x63,0x7F, 0x63,0x63,0x63,0x00, 0x3C,0x18,0x18,0x18, 0x18,0x18,0x3C,0x00, 0x0F,0x06,0x06,0x06, 0x06,0x66,0x3C,0x00, 0x63,0x66,0x6C,0x78, 0x6C,0x66,0x63,0x00, 0x60,0x60,0x60,0x60, 0x60,0x60,0x7F,0x00, 0x63,0x77,0x7F,0x6B, 0x63,0x63,0x63,0x00, 0x63,0x73,0x7B,0x6F, 0x67,0x63,0x63,0x00, 0x3E,0x63,0x63,0x63, 0x63,0x63,0x3E,0x00, 0x7E,0x63,0x63,0x7E, 0x60,0x60,0x60,0x00, 0x3E,0x63,0x63,0x63, 0x6F,0x66,0x3B,0x00, 0x7E,0x63,0x63,0x7E, 0x6C,0x66,0x63,0x00, 0x3E,0x63,0x60,0x3E, 0x03,0x63,0x3E,0x00, 0x7E,0x18,0x18,0x18, 0x18,0x18,0x18,0x00, 0x63,0x63,0x63,0x63, 0x63,0x63,0x3E,0x00, 0x63,0x63,0x63,0x36, 0x36,0x1C,0x08,0x00, 0x63,0x63,0x6B,0x7F, 0x77,0x63,0x41,0x00, 0x63,0x63,0x36,0x1C, 0x36,0x63,0x63,0x00, 0x66,0x66,0x66,0x3C, 0x18,0x18,0x18,0x00, 0x7F,0x03,0x06,0x0C, 0x18,0x30,0x7F,0x00, 0x3E,0x30,0x30,0x30, 0x30,0x30,0x3E,0x00, 0x00,0x60,0x30,0x18, 0x0C,0x06,0x03,0x00, 0x3E,0x06,0x06,0x06, 0x06,0x06,0x3E,0x00, 0x00,0x0C,0x1E,0x33, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x18,0x18,0x0C,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x3E,0x03, 0x3F,0x63,0x3F,0x00, 0x60,0x60,0x7E,0x63, 0x63,0x63,0x7E,0x00, 0x00,0x00,0x3E,0x60, 0x60,0x60,0x3E,0x00, 0x03,0x03,0x3F,0x63, 0x63,0x63,0x3F,0x00, 0x00,0x00,0x3E,0x63, 0x7F,0x60,0x3E,0x00, 0x0E,0x18,0x18,0x7E, 0x18,0x18,0x18,0x00, 0x00,0x00,0x3F,0x63, 0x63,0x3F,0x03,0x3E, 0x60,0x60,0x7E,0x63, 0x63,0x63,0x63,0x00, 0x0C,0x00,0x1C,0x0C, 0x0C,0x0C,0x0C,0x00, 0x06,0x00,0x0E,0x06, 0x06,0x06,0x06,0x3C, 0x60,0x60,0x66,0x6C, 0x78,0x6C,0x66,0x00, 0x1C,0x0C,0x0C,0x0C, 0x0C,0x0C,0x1E,0x00, 0x00,0x00,0x76,0x7F, 0x6B,0x63,0x63,0x00, 0x00,0x00,0x7E,0x63, 0x63,0x63,0x63,0x00, 0x00,0x00,0x3E,0x63, 0x63,0x63,0x3E,0x00, 0x00,0x00,0x7E,0x63, 0x63,0x7E,0x60,0x60, 0x00,0x00,0x3F,0x63, 0x63,0x3F,0x03,0x03, 0x00,0x00,0x6E,0x70, 0x60,0x60,0x60,0x00, 0x00,0x00,0x3F,0x60, 0x3E,0x03,0x7E,0x00, 0x18,0x18,0x7E,0x18, 0x18,0x18,0x0E,0x00, 0x00,0x00,0x63,0x63, 0x63,0x63,0x3F,0x00, 0x00,0x00,0x63,0x63, 0x63,0x36,0x1C,0x00, 0x00,0x00,0x63,0x6B, 0x6B,0x7F,0x36,0x00, 0x00,0x00,0x63,0x36, 0x1C,0x36,0x63,0x00, 0x00,0x00,0x63,0x63, 0x63,0x3F,0x03,0x3E, 0x00,0x00,0x7F,0x06, 0x1C,0x30,0x7F,0x00, 0x0E,0x18,0x18,0x30, 0x18,0x18,0x0E,0x00, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x00, 0x70,0x18,0x18,0x0C, 0x18,0x18,0x70,0x00, 0x00,0x00,0x38,0x6D, 0x06,0x00,0x00,0x00, 0x18,0x0C,0x0C,0x18, 0x30,0x30,0x18,0x00, 0x02,0x02,0x02,0x02, 0x02,0x02,0x02,0x02, 0x04,0x04,0x04,0x04, 0x04,0x04,0x04,0x04, 0x08,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x10,0x10,0x10,0x10, 0x10,0x10,0x10,0x10, 0x20,0x20,0x20,0x20, 0x20,0x20,0x20,0x20, 0x40,0x40,0x40,0x40, 0x40,0x40,0x40,0x40, 0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80, 0xC0,0xC0,0xC0,0xC0, 0xC0,0xC0,0xC0,0xC0, 0xE0,0xE0,0xE0,0xE0, 0xE0,0xE0,0xE0,0xE0, 0xF0,0xF0,0xF0,0xF0, 0xF0,0xF0,0xF0,0xF0, 0xF8,0xF8,0xF8,0xF8, 0xF8,0xF8,0xF8,0xF8, 0xFC,0xFC,0xFC,0xFC, 0xFC,0xFC,0xFC,0xFC, 0xFE,0xFE,0xFE,0xFE, 0xFE,0xFE,0xFE,0xFE, 0x7F,0x7F,0x7F,0x7F, 0x7F,0x7F,0x7F,0x7F, 0x3F,0x3F,0x3F,0x3F, 0x3F,0x3F,0x3F,0x3F, 0x1F,0x1F,0x1F,0x1F, 0x1F,0x1F,0x1F,0x1F, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x03,0x03,0x03,0x03, 0x03,0x03,0x03,0x03, 0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0x00,0x00,0x00,0x00, 0x00,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0x00,0x00,0x00,0x00, 0x00,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0x0F,0x08,0x08,0x08, 0x00,0x00,0x00,0x00, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0xFF,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xF8,0x08,0x08,0x08, 0x81,0x42,0x24,0x18, 0x18,0x24,0x42,0x81, 0x00,0x00,0x00,0x00, 0x0F,0x08,0x08,0x08, 0x00,0x00,0x00,0x00, 0xF8,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x0F,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xF8,0x00,0x00,0x00, 0x18,0x18,0x18,0x1F, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0xFF, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0xFF, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0xFF, 0xFF,0x00,0x00,0x00, 0x18,0x18,0x18,0xF8, 0xF8,0x18,0x18,0x18, 0x00,0x00,0x00,0x1F, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0xF8, 0xF8,0x18,0x18,0x18, 0x18,0x18,0x18,0x1F, 0x1F,0x00,0x00,0x00, 0x18,0x18,0x18,0xF8, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0xFF,0x00,0x00,0x00, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0x03,0x07,0x0F,0x0F, 0x00,0x00,0x00,0x00, 0xC0,0xE0,0xF0,0xF0, 0x0F,0x0F,0x07,0x03, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xE0,0xC0, 0x00,0x00,0x00,0x00, 0x00,0x3C,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x00,0x3C,0x7E,0x7E, 0x7E,0x7E,0x3C,0x00, 0x00,0x7E,0x7E,0x7E, 0x7E,0x7E,0x7E,0x00, 0x00,0x00,0x00,0x18, 0x18,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x00,0x00,0x00, 0xFF,0x7F,0x3F,0x1F, 0x0F,0x07,0x03,0x01, 0xFF,0xFE,0xFC,0xF8, 0xF0,0xE0,0xC0,0x80, 0x80,0x40,0x20,0x10, 0x08,0x04,0x02,0x01, 0x01,0x02,0x04,0x08, 0x10,0x20,0x40,0x80, 0x00,0x00,0x00,0x00, 0x03,0x04,0x08,0x08, 0x00,0x00,0x00,0x00, 0xE0,0x10,0x08,0x08, 0x08,0x08,0x08,0x04, 0x03,0x00,0x00,0x00, 0x08,0x08,0x08,0x10, 0xE0,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x55, 0x00,0x00,0x00,0x00, 0x00,0x00,0xAA,0x55, 0x00,0x00,0x00,0x00, 0x00,0x55,0xAA,0x55, 0x00,0x00,0x00,0x00, 0xAA,0x55,0xAA,0x55, 0x00,0x00,0x00,0x55, 0xAA,0x55,0xAA,0x55, 0x00,0x00,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0x00,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x00, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0x00,0x00, 0xAA,0x55,0xAA,0x55, 0xAA,0x00,0x00,0x00, 0xAA,0x55,0xAA,0x55, 0x00,0x00,0x00,0x00, 0xAA,0x55,0xAA,0x00, 0x00,0x00,0x00,0x00, 0xAA,0x55,0x00,0x00, 0x00,0x00,0x00,0x00, 0xAA,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x80,0x00,0x80,0x00, 0x80,0x00,0x80,0x00, 0x80,0x40,0x80,0x40, 0x80,0x40,0x80,0x40, 0xA0,0x40,0xA0,0x40, 0xA0,0x40,0xA0,0x40, 0xA0,0x50,0xA0,0x50, 0xA0,0x50,0xA0,0x50, 0xA8,0x50,0xA8,0x50, 0xA8,0x50,0xA8,0x50, 0xA8,0x54,0xA8,0x54, 0xA8,0x54,0xA8,0x54, 0xAA,0x54,0xAA,0x54, 0xAA,0x54,0xAA,0x54, 0x2A,0x55,0x2A,0x55, 0x2A,0x55,0x2A,0x55, 0x7E,0x81,0x9D,0xA1, 0xA1,0x9D,0x81,0x7E, 0x2A,0x15,0x2A,0x15, 0x2A,0x15,0x2A,0x15, 0x0A,0x15,0x0A,0x15, 0x0A,0x15,0x0A,0x15, 0x0A,0x05,0x0A,0x05, 0x0A,0x05,0x0A,0x05, 0x02,0x05,0x02,0x05, 0x02,0x05,0x02,0x05, 0x02,0x01,0x02,0x01, 0x02,0x01,0x02,0x01, 0x00,0x01,0x00,0x01, 0x00,0x01,0x00,0x01, 0x00,0x00,0x03,0x06, 0x6C,0x38,0x10,0x00, 0x7E,0x81,0xBD,0xA1, 0xB9,0xA1,0xA1,0x7E, 0x00,0x00,0x3C,0x3C, 0x3C,0x3C,0x00,0x00, 0x00,0x3C,0x42,0x5A, 0x5A,0x42,0x3C,0x00, 0x00,0x00,0x18,0x3C, 0x3C,0x18,0x00,0x00, 0xFF,0x81,0x81,0x81, 0x81,0x81,0x81,0xFF, 0x01,0x03,0x07,0x0F, 0x1F,0x3F,0x7F,0xFF, 0x80,0xC0,0xE0,0xF0, 0xF8,0xFC,0xFE,0xFF, 0x3F,0x1F,0x0F,0x07, 0x03,0x01,0x00,0x00, 0xFC,0xF8,0xF0,0xE0, 0xC0,0x80,0x00,0x00, 0x00,0x00,0x01,0x03, 0x07,0x0F,0x1F,0x3F, 0x00,0x00,0x80,0xC0, 0xE0,0xF0,0xF8,0xFC, 0x0F,0x07,0x03,0x01, 0x00,0x00,0x00,0x00, 0xF0,0xE0,0xC0,0x80, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x01,0x03,0x07,0x0F, 0x00,0x00,0x00,0x00, 0x80,0xC0,0xE0,0xF0, 0x03,0x01,0x00,0x00, 0x00,0x00,0x00,0x00, 0xC0,0x80,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x01,0x03, 0x00,0x00,0x00,0x00, 0x00,0x00,0x80,0xC0, 0x00,0x00,0x00,0x00, 0x0F,0x0F,0x0F,0x0F, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xF0,0xF0, 0x0F,0x0F,0x0F,0x0F, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xF0,0xF0, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xF0,0xF0, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0xF0,0xF0,0xF0,0xF0, 0x00,0x00,0x00,0x3E, 0x1C,0x08,0x00,0x00, 0x00,0x00,0x08,0x18, 0x38,0x18,0x08,0x00, 0x00,0x00,0x10,0x18, 0x1C,0x18,0x10,0x00, 0x00,0x00,0x08,0x1C, 0x3E,0x00,0x00,0x00, 0x36,0x7F,0x7F,0x7F, 0x3E,0x1C,0x08,0x00, 0x08,0x1C,0x3E,0x7F, 0x3E,0x1C,0x08,0x00, 0x08,0x1C,0x3E,0x7F, 0x7F,0x1C,0x3E,0x00, 0x08,0x1C,0x2A,0x77, 0x2A,0x08,0x1C,0x00,
};

const static char		app_font_ja[] = {
0x7F,0x49,0x49,0x7F, 0x41,0x41,0x41,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0x00,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0x00, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0xFF,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0x00, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x00,0x22,0x00, 0x08,0x00,0x02,0x00, 0x88,0x00,0x22,0x00, 0x88,0x00,0x22,0x00, 0x8A,0x00,0x2A,0x00, 0x8A,0x00,0x2A,0x00, 0xAA,0x00,0xAA,0x00, 0xAA,0x00,0xAA,0x00, 0xAA,0x05,0xAA,0x11, 0xAA,0x05,0xAA,0x11, 0xAA,0x5F,0xAA,0x77, 0xAA,0x5F,0xAA,0x77, 0xAA,0xFF,0xAA,0xFF, 0xAA,0xFF,0xAA,0xFF, 0xAF,0xFF,0xBB,0xFF, 0xAF,0xFF,0xBB,0xFF, 0x77,0xFF,0xDD,0xFF, 0x77,0xFF,0xDD,0xFF, 0x04,0xEE,0xA4,0xEF, 0xA2,0xEF,0x0A,0x02, 0x00,0x18,0x24,0x42, 0x3C,0x14,0x24,0x00, 0x3A,0x12,0x7F,0x17, 0x3B,0x52,0x14,0x00, 0xAA,0xFF,0xAA,0x77, 0xAA,0xDD,0xAA,0x55, 0x40,0x7E,0x48,0x3C, 0x28,0x7E,0x08,0x00, 0x3F,0x21,0x3F,0x21, 0x3F,0x21,0x41,0x00, 0x33,0x99,0xCC,0x66, 0x33,0x99,0xCC,0x66, 0xCC,0x99,0x33,0x66, 0xCC,0x99,0x33,0x66, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0x00,0x00,0x08,0x00, 0x24,0x24,0x24,0x00, 0x00,0x00,0x00,0x00, 0x24,0x24,0x7E,0x24, 0x7E,0x24,0x24,0x00, 0x08,0x1E,0x28,0x1C, 0x0A,0x3C,0x08,0x00, 0x00,0x62,0x64,0x08, 0x10,0x26,0x46,0x00, 0x30,0x48,0x48,0x30, 0x4A,0x44,0x3A,0x00, 0x08,0x08,0x08,0x00, 0x00,0x00,0x00,0x00, 0x04,0x08,0x10,0x10, 0x10,0x08,0x04,0x00, 0x20,0x10,0x08,0x08, 0x08,0x10,0x20,0x00, 0x08,0x2A,0x1C,0x3E, 0x1C,0x2A,0x08,0x00, 0x00,0x08,0x08,0x3E, 0x08,0x08,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x08,0x08,0x10, 0x00,0x00,0x00,0x7E, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x18,0x18,0x00, 0x00,0x02,0x04,0x08, 0x10,0x20,0x40,0x00, 0x3C,0x42,0x46,0x5A, 0x62,0x42,0x3C,0x00, 0x08,0x18,0x28,0x08, 0x08,0x08,0x3E,0x00, 0x3C,0x42,0x02,0x0C, 0x30,0x40,0x7E,0x00, 0x3C,0x42,0x02,0x1C, 0x02,0x42,0x3C,0x00, 0x04,0x0C,0x14,0x24, 0x7E,0x04,0x04,0x00, 0x7E,0x40,0x78,0x04, 0x02,0x44,0x38,0x00, 0x1C,0x20,0x40,0x7C, 0x42,0x42,0x3C,0x00, 0x7E,0x42,0x04,0x08, 0x10,0x10,0x10,0x00, 0x3C,0x42,0x42,0x3C, 0x42,0x42,0x3C,0x00, 0x3C,0x42,0x42,0x3E, 0x02,0x04,0x38,0x00, 0x00,0x00,0x08,0x00, 0x00,0x08,0x00,0x00, 0x00,0x00,0x08,0x00, 0x00,0x08,0x08,0x10, 0x0E,0x18,0x30,0x60, 0x30,0x18,0x0E,0x00, 0x00,0x00,0x7E,0x00, 0x7E,0x00,0x00,0x00, 0x70,0x18,0x0C,0x06, 0x0C,0x18,0x70,0x00, 0x3C,0x42,0x02,0x0C, 0x10,0x00,0x10,0x00, 0x1C,0x22,0x4A,0x56, 0x4C,0x20,0x1E,0x00, 0x18,0x24,0x42,0x7E, 0x42,0x42,0x42,0x00, 0x7C,0x22,0x22,0x3C, 0x22,0x22,0x7C,0x00, 0x1C,0x22,0x40,0x40, 0x40,0x22,0x1C,0x00, 0x78,0x24,0x22,0x22, 0x22,0x24,0x78,0x00, 0x7E,0x40,0x40,0x78, 0x40,0x40,0x7E,0x00, 0x7E,0x40,0x40,0x78, 0x40,0x40,0x40,0x00, 0x1C,0x22,0x40,0x4E, 0x42,0x22,0x1C,0x00, 0x42,0x42,0x42,0x7E, 0x42,0x42,0x42,0x00, 0x1C,0x08,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x0E,0x04,0x04,0x04, 0x04,0x44,0x38,0x00, 0x42,0x44,0x48,0x70, 0x48,0x44,0x42,0x00, 0x40,0x40,0x40,0x40, 0x40,0x40,0x7E,0x00, 0x42,0x66,0x5A,0x5A, 0x42,0x42,0x42,0x00, 0x42,0x62,0x52,0x4A, 0x46,0x42,0x42,0x00, 0x18,0x24,0x42,0x42, 0x42,0x24,0x18,0x00, 0x7C,0x42,0x42,0x7C, 0x40,0x40,0x40,0x00, 0x18,0x24,0x42,0x42, 0x4A,0x24,0x1A,0x00, 0x7C,0x42,0x42,0x7C, 0x48,0x44,0x42,0x00, 0x3C,0x42,0x40,0x3C, 0x02,0x42,0x3C,0x00, 0x3E,0x08,0x08,0x08, 0x08,0x08,0x08,0x00, 0x42,0x42,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x42,0x42,0x42,0x24, 0x24,0x18,0x18,0x00, 0x42,0x42,0x42,0x5A, 0x5A,0x66,0x42,0x00, 0x42,0x42,0x24,0x18, 0x24,0x42,0x42,0x00, 0x22,0x22,0x22,0x1C, 0x08,0x08,0x08,0x00, 0x7E,0x02,0x04,0x18, 0x20,0x40,0x7E,0x00, 0x3C,0x20,0x20,0x20, 0x20,0x20,0x3C,0x00, 0x44,0x44,0x28,0x7C, 0x10,0x7C,0x10,0x00, 0x3C,0x04,0x04,0x04, 0x04,0x04,0x3C,0x00, 0x00,0x10,0x28,0x44, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x10,0x08,0x04,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x3C,0x04, 0x3C,0x44,0x3A,0x00, 0x40,0x40,0x5C,0x62, 0x42,0x62,0x5C,0x00, 0x00,0x00,0x3C,0x42, 0x40,0x42,0x3C,0x00, 0x02,0x02,0x3A,0x46, 0x42,0x46,0x3A,0x00, 0x00,0x00,0x3C,0x42, 0x7E,0x40,0x3C,0x00, 0x0C,0x12,0x10,0x7C, 0x10,0x10,0x10,0x00, 0x00,0x00,0x3A,0x46, 0x46,0x3A,0x02,0x3C, 0x40,0x40,0x5C,0x62, 0x42,0x42,0x42,0x00, 0x08,0x00,0x18,0x08, 0x08,0x08,0x1C,0x00, 0x04,0x00,0x0C,0x04, 0x04,0x04,0x44,0x38, 0x40,0x40,0x44,0x48, 0x50,0x68,0x44,0x00, 0x18,0x08,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x00,0x00,0x76,0x49, 0x49,0x49,0x49,0x00, 0x00,0x00,0x5C,0x62, 0x42,0x42,0x42,0x00, 0x00,0x00,0x3C,0x42, 0x42,0x42,0x3C,0x00, 0x00,0x00,0x5C,0x62, 0x62,0x5C,0x40,0x40, 0x00,0x00,0x3A,0x46, 0x46,0x3A,0x02,0x02, 0x00,0x00,0x5C,0x62, 0x40,0x40,0x40,0x00, 0x00,0x00,0x3E,0x40, 0x3C,0x02,0x7C,0x00, 0x10,0x10,0x7C,0x10, 0x10,0x12,0x0C,0x00, 0x00,0x00,0x42,0x42, 0x42,0x46,0x3A,0x00, 0x00,0x00,0x42,0x42, 0x42,0x24,0x18,0x00, 0x00,0x00,0x41,0x49, 0x49,0x49,0x36,0x00, 0x00,0x00,0x42,0x24, 0x18,0x24,0x42,0x00, 0x00,0x00,0x42,0x42, 0x46,0x3A,0x02,0x3C, 0x00,0x00,0x7E,0x04, 0x18,0x20,0x7E,0x00, 0x0C,0x10,0x10,0x20, 0x10,0x10,0x0C,0x00, 0x10,0x10,0x00,0x00, 0x00,0x10,0x10,0x00, 0x30,0x08,0x08,0x04, 0x08,0x08,0x30,0x00, 0x00,0x00,0x30,0x49, 0x06,0x00,0x00,0x00, 0x0F,0x0F,0x0F,0x0F, 0xF0,0xF0,0xF0,0xF0, 0x02,0x02,0x02,0x02, 0x02,0x02,0x02,0x02, 0x04,0x04,0x04,0x04, 0x04,0x04,0x04,0x04, 0x08,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x10,0x10,0x10,0x10, 0x10,0x10,0x10,0x10, 0x20,0x20,0x20,0x20, 0x20,0x20,0x20,0x20, 0x40,0x40,0x40,0x40, 0x40,0x40,0x40,0x40, 0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80, 0xC0,0xC0,0xC0,0xC0, 0xC0,0xC0,0xC0,0xC0, 0xE0,0xE0,0xE0,0xE0, 0xE0,0xE0,0xE0,0xE0, 0xF0,0xF0,0xF0,0xF0, 0xF0,0xF0,0xF0,0xF0, 0xF8,0xF8,0xF8,0xF8, 0xF8,0xF8,0xF8,0xF8, 0xFC,0xFC,0xFC,0xFC, 0xFC,0xFC,0xFC,0xFC, 0xFE,0xFE,0xFE,0xFE, 0xFE,0xFE,0xFE,0xFE, 0x7F,0x7F,0x7F,0x7F, 0x7F,0x7F,0x7F,0x7F, 0x3F,0x3F,0x3F,0x3F, 0x3F,0x3F,0x3F,0x3F, 0x1F,0x1F,0x1F,0x1F, 0x1F,0x1F,0x1F,0x1F, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x03,0x03,0x03,0x03, 0x03,0x03,0x03,0x03, 0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0x00,0x00,0x00,0x00, 0x00,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0x00,0x00,0x00,0x00, 0x00,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0x0F,0x08,0x08,0x08, 0x00,0x00,0x00,0x00, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0xFF,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xF8,0x08,0x08,0x08, 0x81,0x42,0x24,0x18, 0x18,0x24,0x42,0x81, 0x00,0x00,0x00,0x00, 0x0F,0x08,0x08,0x08, 0x00,0x00,0x00,0x00, 0xF8,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x0F,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xF8,0x00,0x00,0x00, 0x18,0x18,0x18,0x1F, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0xFF, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0xFF, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0xFF, 0xFF,0x00,0x00,0x00, 0x18,0x18,0x18,0xF8, 0xF8,0x18,0x18,0x18, 0x00,0x00,0x00,0x1F, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0xF8, 0xF8,0x18,0x18,0x18, 0x18,0x18,0x18,0x1F, 0x1F,0x00,0x00,0x00, 0x18,0x18,0x18,0xF8, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0xFF,0x00,0x00,0x00, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0x03,0x07,0x0F,0x0F, 0x00,0x00,0x00,0x00, 0xC0,0xE0,0xF0,0xF0, 0x0F,0x0F,0x07,0x03, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xE0,0xC0, 0x00,0x00,0x00,0x00, 0x00,0x3C,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x00,0x3C,0x7E,0x7E, 0x7E,0x7E,0x3C,0x00, 0x00,0x7E,0x7E,0x7E, 0x7E,0x7E,0x7E,0x00, 0x00,0x00,0x00,0x18, 0x18,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x00,0x00,0x00, 0xFF,0x7F,0x3F,0x1F, 0x0F,0x07,0x03,0x01, 0xFF,0xFE,0xFC,0xF8, 0xF0,0xE0,0xC0,0x80, 0x80,0x40,0x20,0x10, 0x08,0x04,0x02,0x01, 0x01,0x02,0x04,0x08, 0x10,0x20,0x40,0x80, 0x00,0x00,0x00,0x00, 0x03,0x04,0x08,0x08, 0x00,0x00,0x00,0x00, 0xE0,0x10,0x08,0x08, 0x08,0x08,0x08,0x04, 0x03,0x00,0x00,0x00, 0x08,0x08,0x08,0x10, 0xE0,0x00,0x00,0x00, 0x7F,0x41,0x41,0x7F, 0x41,0x41,0x7F,0x00, 0x00,0x00,0x00,0x00, 0x38,0x28,0x38,0x00, 0x00,0x1C,0x10,0x10, 0x10,0x00,0x00,0x00, 0x00,0x00,0x00,0x10, 0x10,0x10,0x70,0x00, 0x00,0x00,0x00,0x00, 0x20,0x10,0x08,0x00, 0x00,0x00,0x00,0x18, 0x18,0x00,0x00,0x00, 0x00,0x7E,0x02,0x7E, 0x02,0x04,0x38,0x00, 0x00,0x00,0x3E,0x02, 0x0C,0x08,0x10,0x00, 0x00,0x00,0x04,0x08, 0x18,0x28,0x08,0x00, 0x00,0x00,0x08,0x3E, 0x22,0x02,0x0C,0x00, 0x00,0x00,0x00,0x3E, 0x08,0x08,0x3E,0x00, 0x00,0x00,0x04,0x3E, 0x0C,0x14,0x24,0x00, 0x00,0x00,0x10,0x3E, 0x12,0x14,0x10,0x00, 0x00,0x00,0x00,0x1C, 0x04,0x04,0x3E,0x00, 0x00,0x00,0x3E,0x02, 0x3E,0x02,0x3E,0x00, 0x00,0x00,0x00,0x2A, 0x2A,0x02,0x0C,0x00, 0x00,0x00,0x00,0x3E, 0x00,0x00,0x00,0x00, 0x00,0x3E,0x02,0x14, 0x18,0x10,0x20,0x00, 0x02,0x04,0x08,0x18, 0x28,0x48,0x08,0x00, 0x08,0x7E,0x42,0x42, 0x02,0x04,0x38,0x00, 0x00,0x3E,0x08,0x08, 0x08,0x08,0x3E,0x00, 0x08,0x7E,0x08,0x18, 0x28,0x48,0x08,0x00, 0x10,0x7E,0x12,0x12, 0x12,0x12,0x24,0x00, 0x08,0x3E,0x08,0x3E, 0x08,0x08,0x08,0x00, 0x1E,0x22,0x42,0x04, 0x08,0x10,0x60,0x00, 0x20,0x3E,0x48,0x08, 0x08,0x08,0x10,0x00, 0x00,0x7E,0x02,0x02, 0x02,0x02,0x7E,0x00, 0x24,0x7E,0x24,0x04, 0x04,0x08,0x10,0x00, 0x00,0x70,0x00,0x72, 0x02,0x04,0x78,0x00, 0x7E,0x02,0x04,0x08, 0x18,0x24,0x42,0x00, 0x20,0x7E,0x22,0x24, 0x20,0x20,0x1E,0x00, 0x42,0x42,0x22,0x02, 0x04,0x08,0x70,0x00, 0x1E,0x22,0x62,0x14, 0x08,0x10,0x60,0x00, 0x04,0x38,0x08,0x7E, 0x08,0x08,0x70,0x00, 0x00,0x52,0x52,0x52, 0x04,0x08,0x70,0x00, 0x3C,0x00,0x7E,0x08, 0x08,0x10,0x20,0x00, 0x10,0x10,0x10,0x18, 0x14,0x10,0x10,0x00, 0x08,0x08,0x7E,0x08, 0x08,0x10,0x20,0x00, 0x00,0x3C,0x00,0x00, 0x00,0x00,0x7E,0x00, 0x00,0x3E,0x02,0x14, 0x08,0x14,0x20,0x00, 0x08,0x3E,0x04,0x08, 0x1C,0x2A,0x08,0x00, 0x02,0x02,0x02,0x04, 0x08,0x10,0x20,0x00, 0x10,0x08,0x04,0x42, 0x42,0x42,0x42,0x00, 0x40,0x40,0x7E,0x40, 0x40,0x40,0x3E,0x00, 0x00,0x7E,0x02,0x02, 0x04,0x08,0x30,0x00, 0x00,0x10,0x28,0x44, 0x02,0x02,0x00,0x00, 0x08,0x3E,0x08,0x08, 0x2A,0x2A,0x08,0x00, 0x7E,0x02,0x02,0x04, 0x28,0x10,0x08,0x00, 0x00,0x3C,0x00,0x3C, 0x00,0x7C,0x02,0x00, 0x04,0x08,0x10,0x20, 0x48,0x7C,0x02,0x00, 0x00,0x02,0x02,0x14, 0x08,0x14,0x60,0x00, 0x00,0x7E,0x10,0x7E, 0x10,0x10,0x1E,0x00, 0x20,0x20,0x7E,0x22, 0x24,0x20,0x20,0x00, 0x00,0x38,0x08,0x08, 0x08,0x08,0x7E,0x00, 0x7E,0x02,0x02,0x7E, 0x02,0x02,0x7E,0x00, 0x3C,0x00,0x7E,0x02, 0x04,0x08,0x10,0x00, 0x00,0x42,0x42,0x42, 0x02,0x04,0x18,0x00, 0x28,0x28,0x28,0x2A, 0x2A,0x2C,0x48,0x00, 0x20,0x20,0x20,0x22, 0x24,0x28,0x30,0x00, 0x00,0x7E,0x42,0x42, 0x42,0x42,0x7E,0x00, 0x00,0x7E,0x42,0x02, 0x02,0x04,0x18,0x00, 0x00,0x70,0x02,0x02, 0x04,0x08,0x70,0x00, 0x10,0x48,0x20,0x00, 0x00,0x00,0x00,0x00, 0x70,0x50,0x70,0x00, 0x00,0x00,0x00,0x00,
};

const static char		app_font_std_ansi[] = {
0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x7E,0x81,0xA5,0x81, 0xBD,0x99,0x81,0x7E, 0x7E,0xFF,0xDB,0xFF, 0xC3,0xE7,0xFF,0x7E, 0x36,0x7F,0x7F,0x7F, 0x3E,0x1C,0x08,0x00, 0x08,0x1C,0x3E,0x7F, 0x3E,0x1C,0x08,0x00, 0x08,0x1C,0x2A,0x77, 0x2A,0x08,0x1C,0x00, 0x08,0x1C,0x3E,0x7F, 0x7F,0x1C,0x3E,0x00, 0x00,0x00,0x18,0x3C, 0x3C,0x18,0x00,0x00, 0xFF,0xFF,0xE7,0xC3, 0xC3,0xE7,0xFF,0xFF, 0x00,0x3C,0x42,0x42, 0x42,0x42,0x3C,0x00, 0xFF,0xC3,0xBD,0xBD, 0xBD,0xBD,0xC3,0xFF, 0x00,0x0E,0x06,0x7A, 0x88,0x88,0x88,0x70, 0x38,0x44,0x44,0x44, 0x38,0x10,0x38,0x10, 0x1E,0x12,0x1E,0x10, 0x30,0x50,0x60,0x00, 0x1F,0x11,0x11,0x13, 0x35,0x56,0x60,0x00, 0x08,0x2A,0x1C,0x77, 0x1C,0x2A,0x08,0x00, 0x40,0x70,0x7C,0x7F, 0x7C,0x70,0x40,0x00, 0x01,0x07,0x1F,0x7F, 0x1F,0x07,0x01,0x00, 0x08,0x1C,0x3E,0x08, 0x3E,0x1C,0x08,0x00, 0x24,0x24,0x24,0x24, 0x00,0x00,0x24,0x00, 0x3E,0x4A,0x4A,0x3E, 0x0A,0x0A,0x0A,0x00, 0x1C,0x22,0x18,0x24, 0x24,0x18,0x44,0x38, 0x00,0x00,0x00,0x00, 0x7E,0x7E,0x7E,0x7E, 0x08,0x1C,0x3E,0x08, 0x3E,0x1C,0x08,0x7F, 0x00,0x08,0x1C,0x3E, 0x08,0x08,0x08,0x00, 0x00,0x08,0x08,0x08, 0x3E,0x1C,0x08,0x00, 0x00,0x00,0x08,0x0C, 0x7E,0x0C,0x08,0x00, 0x00,0x00,0x10,0x30, 0x7E,0x30,0x10,0x00, 0x08,0x08,0x08,0x08, 0x0F,0x00,0x00,0x00, 0x00,0x00,0x14,0x36, 0x7F,0x36,0x14,0x00, 0x00,0x00,0x08,0x1C, 0x3E,0x00,0x00,0x00, 0x00,0x00,0x00,0x3E, 0x1C,0x08,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0x00,0x00,0x08,0x00, 0x24,0x24,0x24,0x00, 0x00,0x00,0x00,0x00, 0x24,0x24,0x7E,0x24, 0x7E,0x24,0x24,0x00, 0x08,0x1E,0x28,0x1C, 0x0A,0x3C,0x08,0x00, 0x00,0x62,0x64,0x08, 0x10,0x26,0x46,0x00, 0x30,0x48,0x48,0x30, 0x4A,0x44,0x3A,0x00, 0x08,0x08,0x08,0x00, 0x00,0x00,0x00,0x00, 0x04,0x08,0x10,0x10, 0x10,0x08,0x04,0x00, 0x20,0x10,0x08,0x08, 0x08,0x10,0x20,0x00, 0x00,0x2A,0x1C,0x3E, 0x1C,0x2A,0x00,0x00, 0x00,0x08,0x08,0x3E, 0x08,0x08,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x08,0x08,0x10, 0x00,0x00,0x00,0x7E, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x18,0x18,0x00, 0x00,0x02,0x04,0x08, 0x10,0x20,0x40,0x00, 0x3C,0x42,0x46,0x5A, 0x62,0x42,0x3C,0x00, 0x08,0x18,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x3C,0x42,0x02,0x3C, 0x40,0x40,0x7E,0x00, 0x3C,0x42,0x02,0x1C, 0x02,0x42,0x3C,0x00, 0x04,0x44,0x44,0x44, 0x7E,0x04,0x04,0x00, 0x7E,0x40,0x40,0x7C, 0x02,0x02,0x7C,0x00, 0x3C,0x40,0x40,0x7C, 0x42,0x42,0x3C,0x00, 0x7E,0x42,0x04,0x08, 0x10,0x10,0x10,0x00, 0x3C,0x42,0x42,0x3C, 0x42,0x42,0x3C,0x00, 0x3C,0x42,0x42,0x3E, 0x02,0x02,0x3C,0x00, 0x00,0x00,0x08,0x00, 0x00,0x08,0x00,0x00, 0x00,0x00,0x08,0x00, 0x00,0x08,0x08,0x10, 0x08,0x10,0x20,0x40, 0x20,0x10,0x08,0x00, 0x00,0x00,0x7E,0x00, 0x7E,0x00,0x00,0x00, 0x10,0x08,0x04,0x02, 0x04,0x08,0x10,0x00, 0x3C,0x42,0x02,0x0C, 0x10,0x00,0x10,0x00, 0x3C,0x42,0x4E,0x52, 0x4E,0x40,0x3C,0x00, 0x3C,0x42,0x42,0x7E, 0x42,0x42,0x42,0x00, 0x7C,0x42,0x42,0x7C, 0x42,0x42,0x7C,0x00, 0x3C,0x42,0x40,0x40, 0x40,0x42,0x3C,0x00, 0x7C,0x42,0x42,0x42, 0x42,0x42,0x7C,0x00, 0x7E,0x40,0x40,0x78, 0x40,0x40,0x7E,0x00, 0x7E,0x40,0x40,0x78, 0x40,0x40,0x40,0x00, 0x3C,0x42,0x40,0x4E, 0x42,0x42,0x3C,0x00, 0x42,0x42,0x42,0x7E, 0x42,0x42,0x42,0x00, 0x1C,0x08,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x0E,0x04,0x04,0x04, 0x04,0x44,0x38,0x00, 0x42,0x44,0x48,0x70, 0x48,0x44,0x42,0x00, 0x40,0x40,0x40,0x40, 0x40,0x40,0x7E,0x00, 0x41,0x63,0x55,0x49, 0x41,0x41,0x41,0x00, 0x42,0x62,0x52,0x4A, 0x46,0x42,0x42,0x00, 0x3C,0x42,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x7C,0x42,0x42,0x7C, 0x40,0x40,0x40,0x00, 0x3C,0x42,0x42,0x42, 0x4A,0x44,0x3A,0x00, 0x7C,0x42,0x42,0x7C, 0x48,0x44,0x42,0x00, 0x3C,0x42,0x40,0x3C, 0x02,0x42,0x3C,0x00, 0x3E,0x08,0x08,0x08, 0x08,0x08,0x08,0x00, 0x42,0x42,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x41,0x41,0x41,0x22, 0x22,0x14,0x08,0x00, 0x41,0x41,0x41,0x49, 0x55,0x63,0x41,0x00, 0x42,0x42,0x24,0x18, 0x24,0x42,0x42,0x00, 0x41,0x22,0x14,0x08, 0x08,0x08,0x08,0x00, 0x7F,0x02,0x04,0x08, 0x10,0x20,0x7F,0x00, 0x3C,0x20,0x20,0x20, 0x20,0x20,0x3C,0x00, 0x00,0x40,0x20,0x10, 0x08,0x04,0x02,0x00, 0x3C,0x04,0x04,0x04, 0x04,0x04,0x3C,0x00, 0x00,0x08,0x14,0x22, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x10,0x08,0x04,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x40,0x40,0x7C,0x42, 0x42,0x42,0x7C,0x00, 0x00,0x00,0x3C,0x40, 0x40,0x40,0x3C,0x00, 0x02,0x02,0x3E,0x42, 0x42,0x42,0x3E,0x00, 0x00,0x00,0x3C,0x42, 0x7E,0x40,0x3C,0x00, 0x0C,0x10,0x10,0x7C, 0x10,0x10,0x10,0x00, 0x00,0x00,0x3E,0x42, 0x42,0x3E,0x02,0x3C, 0x40,0x40,0x7C,0x42, 0x42,0x42,0x42,0x00, 0x08,0x00,0x18,0x08, 0x08,0x08,0x08,0x00, 0x04,0x00,0x0C,0x04, 0x04,0x04,0x04,0x38, 0x40,0x40,0x44,0x48, 0x50,0x68,0x44,0x00, 0x18,0x08,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x00,0x00,0x76,0x49, 0x49,0x49,0x49,0x00, 0x00,0x00,0x7C,0x42, 0x42,0x42,0x42,0x00, 0x00,0x00,0x3C,0x42, 0x42,0x42,0x3C,0x00, 0x00,0x00,0x7C,0x42, 0x42,0x7C,0x40,0x40, 0x00,0x00,0x3E,0x42, 0x42,0x3E,0x02,0x02, 0x00,0x00,0x5C,0x60, 0x40,0x40,0x40,0x00, 0x00,0x00,0x3E,0x40, 0x3C,0x02,0x7C,0x00, 0x10,0x10,0x7C,0x10, 0x10,0x10,0x0C,0x00, 0x00,0x00,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x00,0x00,0x42,0x42, 0x42,0x24,0x18,0x00, 0x00,0x00,0x41,0x49, 0x49,0x49,0x36,0x00, 0x00,0x00,0x42,0x24, 0x18,0x24,0x42,0x00, 0x00,0x00,0x42,0x42, 0x42,0x3E,0x02,0x3C, 0x00,0x00,0x7E,0x04, 0x18,0x20,0x7E,0x00, 0x0C,0x10,0x10,0x20, 0x10,0x10,0x0C,0x00, 0x10,0x10,0x10,0x10, 0x10,0x10,0x10,0x00, 0x30,0x08,0x08,0x04, 0x08,0x08,0x30,0x00, 0x00,0x00,0x30,0x49, 0x06,0x00,0x00,0x00, 0x00,0x08,0x14,0x22, 0x41,0x41,0x7F,0x00, 0x3C,0x42,0x40,0x40, 0x42,0x3C,0x08,0x18, 0x24,0x00,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x04,0x08,0x3C,0x42, 0x7E,0x40,0x3E,0x00, 0x3C,0x42,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x24,0x00,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x10,0x08,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x1C,0x14,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x00,0x1E,0x20,0x20, 0x20,0x1E,0x08,0x18, 0x08,0x14,0x3C,0x42, 0x7E,0x40,0x3E,0x00, 0x24,0x00,0x3C,0x42, 0x7E,0x40,0x3E,0x00, 0x10,0x08,0x3C,0x42, 0x7E,0x40,0x3E,0x00, 0x00,0x24,0x00,0x18, 0x08,0x08,0x08,0x00, 0x08,0x14,0x00,0x18, 0x08,0x08,0x08,0x00, 0x10,0x08,0x00,0x18, 0x08,0x08,0x08,0x00, 0x04,0x08,0x14,0x22, 0x22,0x3E,0x22,0x00, 0x08,0x14,0x08,0x14, 0x22,0x3E,0x22,0x00, 0x04,0x08,0x7E,0x40, 0x7C,0x40,0x7E,0x00, 0x00,0x00,0x76,0x09, 0x7F,0x48,0x3F,0x00, 0x1E,0x28,0x48,0x7E, 0x48,0x48,0x4E,0x00, 0x3C,0x42,0x00,0x3C, 0x42,0x42,0x3C,0x00, 0x00,0x24,0x00,0x3C, 0x42,0x42,0x3C,0x00, 0x10,0x08,0x00,0x3C, 0x42,0x42,0x3C,0x00, 0x08,0x14,0x00,0x42, 0x42,0x42,0x3E,0x00, 0x10,0x08,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x14,0x00,0x22,0x22, 0x22,0x1E,0x02,0x1C, 0x24,0x00,0x3C,0x42, 0x42,0x42,0x3C,0x00, 0x14,0x00,0x22,0x22, 0x22,0x22,0x1C,0x00, 0x08,0x3C,0x40,0x40, 0x40,0x3C,0x08,0x00, 0x06,0x09,0x10,0x3C, 0x10,0x21,0x7E,0x00, 0x44,0x44,0x28,0x7C, 0x10,0x7C,0x10,0x00, 0x70,0x48,0x48,0x74, 0x4E,0x44,0x46,0x00, 0x04,0x0A,0x08,0x1C, 0x08,0x08,0x28,0x10, 0x04,0x08,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x08,0x10,0x00,0x18, 0x08,0x08,0x08,0x00, 0x08,0x10,0x00,0x3C, 0x42,0x42,0x3C,0x00, 0x08,0x10,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x32,0x4C,0x00,0x7C, 0x42,0x42,0x42,0x00, 0x32,0x4C,0x00,0x62, 0x52,0x4A,0x46,0x00, 0x1C,0x24,0x1A,0x00, 0x3E,0x00,0x00,0x00, 0x1C,0x22,0x1C,0x00, 0x3E,0x00,0x00,0x00, 0x08,0x00,0x08,0x30, 0x40,0x42,0x3C,0x00, 0x00,0x00,0x00,0x00, 0x0E,0x08,0x08,0x00, 0x00,0x00,0x00,0x00, 0x78,0x08,0x08,0x00, 0x40,0x48,0x50,0x2C, 0x42,0x04,0x0E,0x00, 0x40,0x48,0x50,0x2A, 0x4A,0x0E,0x02,0x00, 0x08,0x00,0x00,0x08, 0x08,0x08,0x08,0x00, 0x00,0x12,0x24,0x48, 0x24,0x12,0x00,0x00, 0x00,0x48,0x24,0x12, 0x24,0x48,0x00,0x00, 0x88,0x00,0x22,0x00, 0x88,0x00,0x22,0x00, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0x77,0xFF,0xDD,0xFF, 0x77,0xFF,0xDD,0xFF, 0x08,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0xF8,0x08,0x08,0x08, 0x08,0x08,0x08,0xF8, 0x08,0xF8,0x08,0x08, 0x14,0x14,0x14,0x14, 0xF4,0x14,0x14,0x14, 0x00,0x00,0x00,0x00, 0xFC,0x14,0x14,0x14, 0x00,0x00,0x00,0xF8, 0x08,0xF8,0x08,0x08, 0x14,0x14,0x14,0xF4, 0x14,0xF4,0x14,0x14, 0x14,0x14,0x14,0x14, 0x14,0x14,0x14,0x14, 0x00,0x00,0x00,0xFC, 0x04,0xF4,0x14,0x14, 0x14,0x14,0x14,0xF4, 0x04,0xFC,0x00,0x00, 0x14,0x14,0x14,0x14, 0xFC,0x00,0x00,0x00, 0x08,0x08,0x08,0xF8, 0x08,0xF8,0x00,0x00, 0x00,0x00,0x00,0x00, 0xF8,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x0F,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x0F,0x08,0x08,0x08, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x0F, 0x08,0x0F,0x08,0x08, 0x14,0x14,0x14,0x14, 0x17,0x14,0x14,0x14, 0x14,0x14,0x14,0x17, 0x10,0x1F,0x00,0x00, 0x00,0x00,0x00,0x1F, 0x10,0x17,0x14,0x14, 0x14,0x14,0x14,0xF7, 0x00,0xFF,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x00,0xF7,0x14,0x14, 0x14,0x14,0x14,0x17, 0x10,0x17,0x14,0x14, 0x00,0x00,0x00,0xFF, 0x00,0xFF,0x00,0x00, 0x14,0x14,0x14,0xF7, 0x00,0xF7,0x14,0x14, 0x08,0x08,0x08,0xFF, 0x00,0xFF,0x00,0x00, 0x14,0x14,0x14,0x14, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x00,0xFF,0x08,0x08, 0x00,0x00,0x00,0x00, 0xFF,0x14,0x14,0x14, 0x14,0x14,0x14,0x14, 0x1F,0x00,0x00,0x00, 0x08,0x08,0x08,0x0F, 0x08,0x0F,0x00,0x00, 0x00,0x00,0x00,0x0F, 0x08,0x0F,0x08,0x08, 0x00,0x00,0x00,0x00, 0x1F,0x14,0x14,0x14, 0x14,0x14,0x14,0x14, 0xFF,0x14,0x14,0x14, 0x08,0x08,0x08,0xFF, 0x08,0xFF,0x08,0x08, 0x08,0x08,0x08,0x08, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x0F,0x08,0x08,0x08, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0xF0,0xF0,0xF0,0xF0, 0xF0,0xF0,0xF0,0xF0, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0x00,0x00,0x76,0xDC, 0xC8,0xDC,0x76,0x00, 0x00,0x3C,0x66,0x7C, 0x66,0x7C,0x60,0x60, 0x00,0xFC,0xCC,0xC0, 0xC0,0xC0,0xC0,0x00, 0x00,0xFE,0x6C,0x6C, 0x6C,0x6C,0x6C,0x00, 0xFE,0xC6,0x60,0x30, 0x60,0xC6,0xFE,0x00, 0x00,0x00,0x7E,0xD8, 0xD8,0xD8,0x70,0x00, 0x00,0x66,0x66,0x66, 0x66,0x7C,0x60,0xC0, 0x00,0x76,0xDC,0x18, 0x18,0x18,0x18,0x00, 0xFC,0x30,0x78,0xCC, 0xCC,0x78,0x30,0xFC, 0x38,0x6C,0xC6,0xFE, 0xC6,0x6C,0x38,0x00, 0x38,0x6C,0xC6,0xC6, 0xC6,0x6C,0xEE,0x00, 0x1C,0x30,0x18,0x7C, 0xC6,0xC6,0x7C,0x00, 0x00,0x00,0x7E,0xDB, 0xDB,0x7E,0x00,0x00, 0x06,0x0C,0x7E,0xDB, 0xDB,0x7E,0x30,0x60, 0x38,0x60,0xC0,0xF8, 0xC0,0x60,0x38,0x00, 0x78,0xCC,0xCC,0xCC, 0xCC,0xCC,0xCC,0x00, 0x00,0xFC,0x00,0xFC, 0x00,0xFC,0x00,0x00, 0x08,0x08,0x3E,0x08, 0x08,0x00,0x3E,0x00, 0x10,0x08,0x04,0x08, 0x10,0x00,0x1C,0x00, 0x04,0x08,0x10,0x08, 0x04,0x00,0x1C,0x00, 0x0E,0x1B,0x1B,0x18, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x18,0xD8,0xD8,0x70, 0x00,0x08,0x00,0x3E, 0x00,0x08,0x00,0x00, 0x00,0x30,0x49,0x06, 0x30,0x49,0x06,0x00, 0x30,0x48,0x48,0x30, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x18, 0x18,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x00,0x00,0x00, 0x07,0x04,0x04,0x04, 0x24,0x14,0x0C,0x04, 0x78,0x44,0x44,0x44, 0x44,0x00,0x00,0x00, 0x60,0x10,0x20,0x40, 0x70,0x00,0x00,0x00, 0x00,0x00,0x3C,0x3C, 0x3C,0x3C,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,
};

const static char		app_font_ibm_ansi[] = {
0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x7E,0x81,0xA5,0x81, 0xBD,0x99,0x81,0x7E, 0x7E,0xFF,0xDB,0xFF, 0xC3,0xE7,0xFF,0x7E, 0x6C,0xFE,0xFE,0xFE, 0x7C,0x38,0x10,0x00, 0x10,0x38,0x7C,0xFE, 0x7C,0x38,0x10,0x00, 0x38,0x7C,0x38,0xFE, 0xFE,0x7C,0x38,0x7C, 0x10,0x10,0x38,0x7C, 0xFE,0x7C,0x38,0x7C, 0x00,0x00,0x18,0x3C, 0x3C,0x18,0x00,0x00, 0xFF,0xFF,0xE7,0xC3, 0xC3,0xE7,0xFF,0xFF, 0x00,0x3C,0x66,0x42, 0x42,0x66,0x3C,0x00, 0xFF,0xC3,0x99,0xBD, 0xBD,0x99,0xC3,0xFF, 0x0F,0x07,0x0D,0x7C, 0xCC,0xCC,0xCC,0x78, 0x3C,0x66,0x66,0x66, 0x3C,0x18,0x7E,0x18, 0x3F,0x33,0x3F,0x30, 0x30,0x70,0xF0,0xE0, 0x7F,0x63,0x7F,0x63, 0x63,0x67,0xE6,0xC0, 0x99,0x5A,0x3C,0xE7, 0xE7,0x3C,0x5A,0x99, 0x80,0xE0,0xF8,0xFE, 0xF8,0xE0,0x80,0x00, 0x02,0x0E,0x3E,0xFE, 0x3E,0x0E,0x02,0x00, 0x18,0x3C,0x7E,0x18, 0x18,0x7E,0x3C,0x18, 0x66,0x66,0x66,0x66, 0x00,0x00,0x66,0x00, 0x7F,0xDB,0xDB,0x7B, 0x1B,0x1B,0x1B,0x00, 0x3E,0x63,0x3C,0x66, 0x66,0x3C,0xC6,0x7C, 0x00,0x00,0x00,0x00, 0x7E,0x7E,0x7E,0x00, 0x18,0x3C,0x7E,0x18, 0x7E,0x3C,0x18,0xFF, 0x18,0x3C,0x7E,0x18, 0x18,0x18,0x18,0x00, 0x18,0x18,0x18,0x18, 0x7E,0x3C,0x18,0x00, 0x00,0x18,0x0C,0xFE, 0x0C,0x18,0x00,0x00, 0x00,0x30,0x60,0xFE, 0x60,0x30,0x00,0x00, 0x00,0x00,0xC0,0xC0, 0xC0,0xFE,0x00,0x00, 0x00,0x24,0x66,0xFF, 0x66,0x24,0x00,0x00, 0x00,0x18,0x3C,0x7E, 0xFF,0xFF,0x00,0x00, 0x00,0xFF,0xFF,0x7E, 0x3C,0x18,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x30,0x78,0x78,0x30, 0x30,0x00,0x30,0x00, 0x6C,0x6C,0x6C,0x00, 0x00,0x00,0x00,0x00, 0x6C,0x6C,0xFE,0x6C, 0xFE,0x6C,0x6C,0x00, 0x30,0x7C,0xC0,0x78, 0x0C,0xF8,0x30,0x00, 0x00,0xC6,0xCC,0x18, 0x30,0x66,0xC6,0x00, 0x38,0x6C,0x38,0x76, 0xDC,0xCC,0x76,0x00, 0x60,0x60,0xC0,0x00, 0x00,0x00,0x00,0x00, 0x18,0x30,0x60,0x60, 0x60,0x30,0x18,0x00, 0x60,0x30,0x18,0x18, 0x18,0x30,0x60,0x00, 0x00,0x66,0x3C,0xFF, 0x3C,0x66,0x00,0x00, 0x00,0x30,0x30,0xFC, 0x30,0x30,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x30,0x30,0x60, 0x00,0x00,0x00,0xFC, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x30,0x30,0x00, 0x06,0x0C,0x18,0x30, 0x60,0xC0,0x80,0x00, 0x7C,0xC6,0xCE,0xDE, 0xF6,0xE6,0x7C,0x00, 0x30,0x70,0x30,0x30, 0x30,0x30,0xFC,0x00, 0x78,0xCC,0x0C,0x38, 0x60,0xCC,0xFC,0x00, 0x78,0xCC,0x0C,0x38, 0x0C,0xCC,0x78,0x00, 0x1C,0x3C,0x6C,0xCC, 0xFE,0x0C,0x1E,0x00, 0xFC,0xC0,0xF8,0x0C, 0x0C,0xCC,0x78,0x00, 0x1C,0x30,0x60,0x7C, 0x66,0x66,0x3C,0x00, 0xFC,0xCC,0x0C,0x18, 0x30,0x30,0x30,0x00, 0x78,0xCC,0xCC,0x78, 0xCC,0xCC,0x78,0x00, 0x78,0xCC,0xCC,0x7C, 0x0C,0x18,0x70,0x00, 0x00,0x30,0x30,0x00, 0x00,0x30,0x30,0x00, 0x00,0x30,0x30,0x00, 0x30,0x30,0x60,0x00, 0x18,0x30,0x60,0xC0, 0x60,0x30,0x18,0x00, 0x00,0x00,0xFC,0x00, 0x00,0xFC,0x00,0x00, 0x60,0x30,0x18,0x0C, 0x18,0x30,0x60,0x00, 0x78,0xCC,0x0C,0x18, 0x30,0x00,0x30,0x00, 0x7C,0xC6,0xDE,0xDE, 0xDE,0xC0,0x78,0x00, 0x30,0x78,0xCC,0xCC, 0xFC,0xCC,0xCC,0x00, 0xFC,0x66,0x66,0x7C, 0x66,0x66,0xFC,0x00, 0x3C,0x66,0xC0,0xC0, 0xC0,0x66,0x3C,0x00, 0xF8,0x6C,0x66,0x66, 0x66,0x6C,0xF8,0x00, 0xFE,0x62,0x68,0x78, 0x68,0x62,0xFE,0x00, 0xFE,0x62,0x68,0x78, 0x68,0x60,0xF0,0x00, 0x3C,0x66,0xC0,0xC0, 0xCE,0x66,0x3E,0x00, 0xCC,0xCC,0xCC,0xFC, 0xCC,0xCC,0xCC,0x00, 0x78,0x30,0x30,0x30, 0x30,0x30,0x78,0x00, 0x1E,0x0C,0x0C,0x0C, 0xCC,0xCC,0x78,0x00, 0xE6,0x66,0x6C,0x78, 0x6C,0x66,0xE6,0x00, 0xF0,0x60,0x60,0x60, 0x62,0x66,0xFE,0x00, 0xC6,0xEE,0xFE,0xD6, 0xC6,0xC6,0xC6,0x00, 0xC6,0xE6,0xF6,0xDE, 0xCE,0xC6,0xC6,0x00, 0x38,0x6C,0xC6,0xC6, 0xC6,0x6C,0x38,0x00, 0xFC,0x66,0x66,0x7C, 0x60,0x60,0xF0,0x00, 0x78,0xCC,0xCC,0xCC, 0xCC,0xDC,0x78,0x1C, 0xFC,0x66,0x66,0x7C, 0x6C,0x66,0xE6,0x00, 0x78,0xCC,0xE0,0x70, 0x1C,0xCC,0x78,0x00, 0xFC,0xB4,0x30,0x30, 0x30,0x30,0x78,0x00, 0xCC,0xCC,0xCC,0xCC, 0xCC,0xCC,0xFC,0x00, 0xCC,0xCC,0xCC,0xCC, 0xFC,0x78,0x30,0x00, 0xC6,0xC6,0xC6,0xD6, 0xFE,0xEE,0xC6,0x00, 0xC6,0xC6,0x6C,0x38, 0x38,0x6C,0xC6,0x00, 0xCC,0xCC,0xCC,0x78, 0x30,0x30,0x78,0x00, 0xFE,0xC6,0x8C,0x18, 0x32,0x66,0xFE,0x00, 0x78,0x60,0x60,0x60, 0x60,0x60,0x78,0x00, 0xC0,0x60,0x30,0x18, 0x0C,0x06,0x02,0x00, 0x78,0x18,0x18,0x18, 0x18,0x18,0x78,0x00, 0x10,0x38,0x6C,0xC6, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x30,0x30,0x18,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x78,0x0C, 0x7C,0xCC,0x76,0x00, 0xE0,0x60,0x60,0x7C, 0x66,0x66,0xDC,0x00, 0x00,0x00,0x78,0xCC, 0xC0,0xCC,0x78,0x00, 0x1C,0x0C,0x0C,0x7C, 0xCC,0xCC,0x76,0x00, 0x00,0x00,0x78,0xCC, 0xFC,0xC0,0x78,0x00, 0x38,0x6C,0x60,0xF8, 0x60,0x60,0xF0,0x00, 0x00,0x00,0x76,0xCC, 0xCC,0x7C,0x0C,0xF8, 0xE0,0x60,0x6C,0x76, 0x66,0x66,0xE6,0x00, 0x30,0x00,0x70,0x30, 0x30,0x30,0x78,0x00, 0x0C,0x00,0x0C,0x0C, 0x0C,0xCC,0xCC,0x78, 0xE0,0x60,0x66,0x6C, 0x78,0x6C,0x66,0x00, 0x70,0x30,0x30,0x30, 0x30,0x30,0x78,0x00, 0x00,0x00,0xCC,0xFE, 0xFE,0xD6,0xC6,0x00, 0x00,0x00,0xF8,0xCC, 0xCC,0xCC,0xCC,0x00, 0x00,0x00,0x78,0xCC, 0xCC,0xCC,0x78,0x00, 0x00,0x00,0xDC,0x66, 0x66,0x7C,0x60,0xF0, 0x00,0x00,0x7A,0xCC, 0xCC,0x7C,0x0C,0x0E, 0x00,0x00,0xDC,0x76, 0x66,0x60,0xF0,0x00, 0x00,0x00,0x7C,0xC0, 0x78,0x0C,0xF8,0x00, 0x10,0x30,0x7C,0x30, 0x30,0x34,0x18,0x00, 0x00,0x00,0xCC,0xCC, 0xCC,0xCC,0x76,0x00, 0x00,0x00,0xCC,0xCC, 0xCC,0x78,0x30,0x00, 0x00,0x00,0xC6,0xD6, 0xFE,0x7C,0x6C,0x00, 0x00,0x00,0xC6,0x6C, 0x38,0x6C,0xC6,0x00, 0x00,0x00,0xCC,0xCC, 0xCC,0x7C,0x0C,0xF8, 0x00,0x00,0x7E,0x4C, 0x18,0x32,0x7E,0x00, 0x1C,0x30,0x30,0xE0, 0x30,0x30,0x1C,0x00, 0x18,0x18,0x18,0x00, 0x18,0x18,0x18,0x00, 0xE0,0x30,0x30,0x1C, 0x30,0x30,0xE0,0x00, 0x76,0xDC,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x10,0x38,0x6C, 0xC6,0xC6,0xFE,0x00, 0x78,0xCC,0xC0,0xCC, 0x78,0x18,0x0C,0x78, 0xCC,0x00,0xCC,0xCC, 0xCC,0xCC,0x7E,0x00, 0x1C,0x00,0x78,0xCC, 0xFC,0xC0,0x78,0x00, 0x7E,0xC3,0x3C,0x06, 0x3E,0x66,0x3F,0x00, 0xCC,0x00,0x78,0x0C, 0x7C,0xCC,0x7E,0x00, 0xE0,0x00,0x78,0x0C, 0x7C,0xCC,0x7E,0x00, 0x30,0x30,0x78,0x0C, 0x7C,0xCC,0x7E,0x00, 0x00,0x00,0x78,0xC0, 0xC0,0x78,0x0C,0x38, 0x7E,0xC3,0x3C,0x66, 0x7E,0x60,0x3C,0x00, 0xCC,0x00,0x78,0xCC, 0xFC,0xC0,0x78,0x00, 0xE0,0x00,0x78,0xCC, 0xFC,0xC0,0x78,0x00, 0xCC,0x00,0x70,0x30, 0x30,0x30,0x78,0x00, 0x7C,0xC6,0x38,0x18, 0x18,0x18,0x3C,0x00, 0xE0,0x00,0x70,0x30, 0x30,0x30,0x78,0x00, 0xC6,0x38,0x6C,0xC6, 0xFE,0xC6,0xC6,0x00, 0x30,0x30,0x00,0x78, 0xCC,0xFC,0xCC,0x00, 0x1C,0x00,0xFC,0x60, 0x78,0x60,0xFC,0x00, 0x00,0x00,0x7E,0x18, 0x7E,0x98,0x7E,0x00, 0x3E,0x6C,0xCC,0xFE, 0xCC,0xCC,0xCE,0x00, 0x78,0xCC,0x00,0x78, 0xCC,0xCC,0x78,0x00, 0x00,0xCC,0x00,0x78, 0xCC,0xCC,0x78,0x00, 0x00,0xE0,0x00,0x78, 0xCC,0xCC,0x78,0x00, 0x78,0xCC,0x00,0xCC, 0xCC,0xCC,0x7F,0x00, 0x00,0xE0,0x00,0xCC, 0xCC,0xCC,0x7F,0x00, 0xCC,0x00,0xCC,0xCC, 0xCC,0x7C,0x0C,0xF8, 0xC3,0x18,0x3C,0x66, 0x66,0x3C,0x18,0x00, 0xCC,0x00,0xCC,0xCC, 0xCC,0xCC,0x78,0x00, 0x18,0x18,0x7E,0xC0, 0xC0,0x7E,0x18,0x18, 0x38,0x6C,0x64,0xF0, 0x60,0xE6,0xFC,0x00, 0xCC,0xCC,0x78,0xFC, 0x30,0xFC,0x30,0x30, 0xF8,0xCC,0xCC,0xFA, 0xC6,0xCF,0xC6,0x07, 0x0E,0x1B,0x18,0x3C, 0x18,0x18,0xD8,0x70, 0x1C,0x00,0x78,0x0C, 0x7C,0xCC,0x7E,0x00, 0x38,0x00,0x70,0x30, 0x30,0x30,0x78,0x00, 0x00,0x1C,0x00,0x78, 0xCC,0xCC,0x78,0x00, 0x1C,0x00,0xCC,0xCC, 0xCC,0xCC,0x7E,0x00, 0x00,0xF8,0x00,0xF8, 0xCC,0xCC,0xCC,0x00, 0xFC,0x00,0xCC,0xEC, 0xFC,0xDC,0xCC,0x00, 0x3C,0x6C,0x6C,0x3E, 0x00,0x7E,0x00,0x00, 0x38,0x6C,0x6C,0x38, 0x00,0x7C,0x00,0x00, 0x30,0x00,0x30,0x60, 0xC0,0xCC,0x78,0x00, 0x00,0x00,0x00,0xFC, 0xC0,0xC0,0x00,0x00, 0x00,0x00,0x00,0xFC, 0x0C,0x0C,0x00,0x00, 0xC3,0xC6,0xCC,0xDE, 0x33,0x66,0xCC,0x0F, 0xC3,0xC6,0xCC,0xDB, 0x37,0x6F,0xCF,0x03, 0x18,0x18,0x00,0x18, 0x18,0x18,0x18,0x00, 0x00,0x33,0x66,0xCC, 0x66,0x33,0x00,0x00, 0x00,0xCC,0x66,0x33, 0x66,0xCC,0x00,0x00, 0x22,0x88,0x22,0x88, 0x22,0x88,0x22,0x88, 0x55,0xAA,0x55,0xAA, 0x55,0xAA,0x55,0xAA, 0xDB,0x77,0xDB,0xEE, 0xDB,0x77,0xDB,0xEE, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0xF8,0x18,0x18,0x18, 0x18,0x18,0xF8,0x18, 0xF8,0x18,0x18,0x18, 0x36,0x36,0x36,0x36, 0xF6,0x36,0x36,0x36, 0x00,0x00,0x00,0x00, 0xFE,0x36,0x36,0x36, 0x00,0x00,0xF8,0x18, 0xF8,0x18,0x18,0x18, 0x36,0x36,0xF6,0x06, 0xF6,0x36,0x36,0x36, 0x36,0x36,0x36,0x36, 0x36,0x36,0x36,0x36, 0x00,0x00,0xFE,0x06, 0xF6,0x36,0x36,0x36, 0x36,0x36,0xF6,0x06, 0xFE,0x00,0x00,0x00, 0x36,0x36,0x36,0x36, 0xFE,0x00,0x00,0x00, 0x18,0x18,0xF8,0x18, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0xF8,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x1F,0x00,0x00,0x00, 0x18,0x18,0x18,0x18, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x18,0x18,0x18,0x18, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x1F,0x18, 0x1F,0x18,0x18,0x18, 0x36,0x36,0x36,0x36, 0x37,0x36,0x36,0x36, 0x36,0x36,0x37,0x30, 0x3F,0x00,0x00,0x00, 0x00,0x00,0x3F,0x30, 0x37,0x36,0x36,0x36, 0x36,0x36,0xF7,0x00, 0xFF,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0xF7,0x36,0x36,0x36, 0x36,0x36,0x37,0x30, 0x37,0x36,0x36,0x36, 0x00,0x00,0xFF,0x00, 0xFF,0x00,0x00,0x00, 0x36,0x36,0xF7,0x00, 0xF7,0x36,0x36,0x36, 0x18,0x18,0xFF,0x00, 0xFF,0x00,0x00,0x00, 0x36,0x36,0x36,0x36, 0xFF,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0xFF,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0xFF,0x36,0x36,0x36, 0x36,0x36,0x36,0x36, 0x3F,0x00,0x00,0x00, 0x18,0x18,0x1F,0x18, 0x1F,0x00,0x00,0x00, 0x00,0x00,0x1F,0x18, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0x3F,0x36,0x36,0x36, 0x36,0x36,0x36,0x36, 0xFF,0x36,0x36,0x36, 0x18,0x18,0xFF,0x18, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x1F,0x18,0x18,0x18, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0xF0,0xF0,0xF0,0xF0, 0xF0,0xF0,0xF0,0xF0, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0x00,0x00,0x76,0xDC, 0xC8,0xDC,0x76,0x00, 0x00,0x3C,0x66,0x7C, 0x66,0x7C,0x60,0x60, 0x00,0xFC,0xCC,0xC0, 0xC0,0xC0,0xC0,0x00, 0x00,0xFE,0x6C,0x6C, 0x6C,0x6C,0x6C,0x00, 0xFE,0xC6,0x60,0x30, 0x60,0xC6,0xFE,0x00, 0x00,0x00,0x7E,0xD8, 0xD8,0xD8,0x70,0x00, 0x00,0x66,0x66,0x66, 0x66,0x7C,0x60,0xC0, 0x00,0x76,0xDC,0x18, 0x18,0x18,0x18,0x00, 0xFC,0x30,0x78,0xCC, 0xCC,0x78,0x30,0xFC, 0x38,0x6C,0xC6,0xFE, 0xC6,0x6C,0x38,0x00, 0x38,0x6C,0xC6,0xC6, 0xC6,0x6C,0xEE,0x00, 0x1C,0x30,0x18,0x7C, 0xC6,0xC6,0x7C,0x00, 0x00,0x00,0x7E,0xDB, 0xDB,0x7E,0x00,0x00, 0x06,0x0C,0x7E,0xDB, 0xDB,0x7E,0x30,0x60, 0x38,0x60,0xC0,0xF8, 0xC0,0x60,0x38,0x00, 0x78,0xCC,0xCC,0xCC, 0xCC,0xCC,0xCC,0x00, 0x00,0xFC,0x00,0xFC, 0x00,0xFC,0x00,0x00, 0x30,0x30,0xFC,0x30, 0x30,0x00,0xFC,0x00, 0x60,0x30,0x18,0x30, 0x60,0x00,0xFC,0x00, 0x18,0x30,0x60,0x30, 0x18,0x00,0xFC,0x00, 0x0E,0x1B,0x1B,0x18, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x18,0xD8,0xD8,0x70, 0x30,0x30,0x00,0xFC, 0x00,0x30,0x30,0x00, 0x00,0x76,0xDC,0x00, 0x76,0xDC,0x00,0x00, 0x38,0x6C,0x6C,0x38, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x18, 0x18,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x18,0x00,0x00,0x00, 0x0F,0x0C,0x0C,0x0C, 0xEC,0x6C,0x3C,0x1C, 0x7C,0x66,0x66,0x66, 0x66,0x00,0x00,0x00, 0x70,0x18,0x30,0x60, 0x78,0x00,0x00,0x00, 0x00,0x00,0x3C,0x3C, 0x3C,0x3C,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,
};

/*****************************************************************************/
/*                             Global Variables                              */
/*****************************************************************************/

uint8_t					global_file_buffer_storage[STORAGE_FILE_BUFFER_LEN];
uint8_t*				global_file_buffer = global_file_buffer_storage;

extern System*			global_system;

bool					global_launcher_mode = false;
ui_glyph_choice			global_ui_charset = UI_MODE_NOT_SET;
font_choice				global_font = FONT_NOT_SET;

FATFS					global_ffs_device[DEVICE_MAX_FFS_DEVICE_COUNT];		// FFS objects for SD cards

// char					app_search_phrase_human_readable_storage[MAX_SEARCH_PHRASE_LEN + 1];
// char					app_search_phrase_storage[MAX_SEARCH_PHRASE_LEN + 1];
// char*					global_search_phrase_human_readable = app_search_phrase_human_readable_storage;
// char*					global_search_phrase = app_search_phrase_storage;
// uint8_t					global_search_phrase_len;


// char*					global_named_app_dos = "dos";
// char*					global_named_app_basic = "basic";

int8_t					global_connected_device[DEVICE_MAX_DEVICE_COUNT];	// will be 8, 9, etc, if connected, or -1 if not. 

bool					global_started_from_flash;		// tracks whether app started from flash or from disk
bool					global_clock_is_visible;		// tracks whether or not the clock should be drawn. set to false when not showing main 2-panel screen.
bool					global_find_next_enabled = false;	// tracks whether find next is callable. turned on by finding at a match, turned off by hitting end of memory without a match.


TextDialogTemplate		global_dlg = 
{
	(SCREEN_NUM_COLS - APP_DIALOG_WIDTH)/2, 16, APP_DIALOG_WIDTH, APP_DIALOG_HEIGHT, 
	APP_DIALOG_STARTING_NUM_BUTTONS, NULL, NULL, 
	{NULL, NULL, NULL},
	{KEY_BREAK, CH_ENTER, KEY_DEL},
	{COLOR_GREEN, COLOR_RED, COLOR_BLUE},
	{false, true, false},
};	// dialog we'll configure and re-use for different purposes


char					global_dlg_title[36];	// arbitrary
char					global_dlg_body_msg[70];	// arbitrary
char					global_dlg_button[3][10];	// arbitrary

char					global_string_buff1_storage[STORAGE_STRING_BUFFER_1_LEN];
char					global_string_buff2_storage[STORAGE_STRING_BUFFER_2_LEN];
char*					global_string_buff1 = global_string_buff1_storage;
char*					global_string_buff2 = global_string_buff2_storage;

char					global_working_dir_path_buffer[FILE_MAX_PATHNAME_SIZE];
char*					global_working_dir_path = global_working_dir_path_buffer;	// holds filepath to the current file path of the folder shown in the active panel
char					global_temp_path_1_buffer[FILE_MAX_PATHNAME_SIZE];
char					global_temp_path_2_buffer[FILE_MAX_PATHNAME_SIZE] = "";
char*					global_temp_path_1 = global_temp_path_1_buffer;
char*					global_temp_path_2 = global_temp_path_2_buffer;

uint8_t					temp_screen_buffer_char[APP_DIALOG_BUFF_SIZE];	// WARNING HBD: don't make dialog box bigger than will fit!
uint8_t					temp_screen_buffer_attr[APP_DIALOG_BUFF_SIZE];	// WARNING HBD: don't make dialog box bigger than will fit!



/*****************************************************************************/
/*                       Private Function Prototypes                         */
/*****************************************************************************/

// draw/refresh title bar and items that appear in the title bar
void App_DrawTitleBar(void);

// scan for connected devices, and return count. Returns -1 if error.
int8_t App_ScanDevices(void);

// initialize various objects - once per run
void App_Initialize(void);

// handles user input
uint8_t App_MainMenuLoop(void);

// main loop when terminal comms mode is on
void App_MainLoop(void);

// saves current cursor position and turns off visible cursor during non-serial UI updates
// call this when redrawing UI, updating baud display, etc, where you don't want cursor to leave terminal area
void App_EnterStealthTextUpdateMode(void);

// restores saved cursor position and turns on visible cursor after non-serial UI updates
// call this after redrawing UI, updating baud display, etc, where you don't want cursor to leave terminal area
void App_ExitStealthTextUpdateMode(void);

// have serial change baud rate and show msg and label
void App_ChangeBaudRate(uint8_t new_config_index);

		

/*****************************************************************************/
/*                       Private Function Definitions                        */
/*****************************************************************************/


// draw/refresh title bar and items that appear in the title bar
void App_DrawTitleBar(void)
{
	// LOGIC:
	//   UI can be drawn within either ANSI graphics or Foenix graphics
	//   the font user is using in terminal will control this
	//   line-drawing glyphs are at different codepoints

	App_EnterStealthTextUpdateMode();

	global_clock_is_visible = true;
	
	if (global_ui_charset != UI_MODE_ANSI)
	{
		// draw the title bar at top. 1x80
		Text_CopyMemBoxLinearBuffer((uint8_t*)&app_titlebar_glyphs, 0, TITLE_BAR_Y, 79, TITLE_BAR_Y, SCREEN_COPY_TO_SCREEN, SCREEN_FOR_TEXT_CHAR);
	}
	else
	{
		// draw the title bar at top. 1x80
		Text_CopyMemBoxLinearBuffer((uint8_t*)&app_titlebar_glyphs_ansi, 0, TITLE_BAR_Y, 79, TITLE_BAR_Y, SCREEN_COPY_TO_SCREEN, SCREEN_FOR_TEXT_CHAR);
	}

	Text_FillBoxAttrOnly(3, TITLE_BAR_Y, 13, TITLE_BAR_Y, COLOR_BRIGHT_WHITE, APP_BACKGROUND_COLOR);
	
	// redraw baud display
	Text_DrawStringAtXY(TERM_BAUD_X1, TITLE_BAR_Y, General_GetString(app_baud_config[app_current_baud_config].lbl_string_id_), ANSI_COLOR_BRIGHT_BLUE, COLOR_BLACK);	

	// also draw the comms area
	//Buffer_DrawCommunicationArea();
	Buffer_RefreshDisplay();

	App_ExitStealthTextUpdateMode();
	
	// update clock display - do after exiting stealth mode, because it needs it's own wrappers to that
	//  as it should be called every 1 min.
	App_DisplayTime();
}


void App_ChangeUIFont(font_choice the_font)
{
	global_font = the_font;
	
	if (the_font == FONT_STD || the_font == FONT_STD_KANA)
	{
		// both of these fonts maintain the standard drawing points for Foeniscii. 
		global_ui_charset = UI_MODE_FOENIX;
		
		// change cursor to block-style available with Foenix STD fonts
		R8(VICKY_TEXT_CURSOR_CHAR) = CH_HFILL_UP_8;
	}
	else
	{
		// both of these fonts use ANSI (437) code points 
		global_ui_charset = UI_MODE_ANSI;
		
		// change cursor to underline style common to ANSI fonts
		R8(VICKY_TEXT_CURSOR_CHAR) = CH_UNDER;	// full-block option is 219 in ANSI.
	}

	// separately consider if a font needs to be loaded into VICKY, or just switched over
	
	if (the_font == FONT_STD)
	{
		Text_UpdateFontData((char*)app_font_std, PARAM_USE_PRIMARY_FONT_SLOT);
	}
	else if (the_font == FONT_STD_KANA)
	{
		// this font is always in slot 2 (tied to keyboard controls too)
		// // switch to font set #2, which has ANSI font loaded
		// R8(VICKY_MASTER_CTRL_REG_H) = (VICKY_RES_FON_SET);
		// but if we just switch to font 2, when user toggles to kana entry and then back, event system will switch back to font 1. so load font 1 ALSO with kana font
		Text_UpdateFontData((char*)app_font_ja, PARAM_USE_PRIMARY_FONT_SLOT);
	}
	else if (the_font == FONT_STD_ANSI)
	{
		Text_UpdateFontData((char*)app_font_std_ansi, PARAM_USE_PRIMARY_FONT_SLOT);
	}
	else if (the_font == FONT_IBM_ANSI)
	{
		Text_UpdateFontData((char*)app_font_ibm_ansi, PARAM_USE_PRIMARY_FONT_SLOT);
	}	

	App_DrawTitleBar();
}


// scan for connected devices, and return count. Returns -1 if error.
int8_t	App_ScanDevices(void)
{
	uint8_t		drive_num = 0;
	uint8_t		device;
	DIR*		dir;
	char		drive_path[3];
	char*		the_drive_path = drive_path;

    FRESULT		result_ffs_sd0;
    FRESULT		result_ffs_sd1;
	FRESULT		the_result;
	
	// LOGIC: 
	//   F256K2 can have up to:
	//     1 external SD card (device 0:)
	//     1 internal SD card (device 1:), what system should boot from
	//     TBD # of IEC drives (device 2: and 3: ??)
	//     1 flash device (8:) - but not a drive, and not treated like one
	//     1 ram device (9:) - but not a drive, and not treated like one
	//   to see if a device is connected, we iterate through the possible device #s and try to open the directory file. 

	app_connected_drive_count = 0;

	// scan for FFS devices
	for (device = DEVICE_LOWEST_FFS_DEVICE_NUM; device <= DEVICE_HIGHEST_FFS_DEVICE_NUM; device++)
	{
		sprintf(the_drive_path, "%u:", device);
		the_result = f_mount(&global_ffs_device[device], the_drive_path, PARAM_MOUNT_IMMEDIATELY);
		sprintf(global_string_buff1, "FFS mount attempt for %s: %d", the_drive_path, (int)the_result);
		Buffer_NewMessage(global_string_buff1);

		if (the_result == FR_OK)
		{
			app_connected_drive_count++;
			global_connected_device[drive_num++] = device;
		}
		else
		{
		}
	}
	
	return drive_num;
}


// initialize various objects - once per run
void App_Initialize(void)
{
	// we want 80x30 screen, not 80x60. 25 for ANSI display, 1 for title at top, 4 four status/comms at bottom
	Sys_SetTextPixelHeight(false, true);

	Text_ClearScreen(APP_FOREGROUND_COLOR, APP_BACKGROUND_COLOR);
	
	Keyboard_InitiateMinuteHand();
		
	//global_ui_charset = UI_MODE_ANSI;		// default to using ANSI glyphs in UI
	//global_ui_charset = UI_MODE_NOT_SET;
	//global_font = FONT_STD_ANSI;			// default to foenix look ANSI font
	App_ChangeUIFont(FONT_IBM_ANSI);

	// initialize serial port for terminal comms
	Serial_InitUART();
	Serial_InitANSIColors();
	App_ChangeBaudRate(ACTION_SET_BAUD_9600 - ACTION_SET_BAUD_115200);
	
	Buffer_Clear();

	// show info about the host F256 and environment, as well as copyright, version of f/manager
	Screen_ShowAppAboutInfo();

	// set up the dialog template we'll use throughout the app
	global_dlg.title_text_ = global_dlg_title;
	global_dlg.body_text_ = global_dlg_body_msg;
	global_dlg.btn_label_[0] = global_dlg_button[0];
	global_dlg.btn_label_[1] = global_dlg_button[1];

	// scan which devices are connected, so we know what panels can access
	Buffer_NewMessage(General_GetString(ID_STR_MSG_SCANNING));
	app_connected_drive_count = App_ScanDevices();

	sprintf(global_string_buff1, General_GetString(ID_STR_MSG_SHOW_DRIVE_COUNT), app_connected_drive_count);
	Buffer_NewMessage(global_string_buff1);
}


// main loop when terminal comms mode is on
void App_MainLoop(void)
{
	uint8_t				user_input;
	bool				exit_main_loop = false;
	bool				success;
	
	// main loop
	while (! exit_main_loop)
	{
		// turn ON cursor - seems to turn itself off when kernal detects cursor position has changed. 
		Sys_EnableTextModeCursor(true);

		// clear terminal area in middle of screen
		Text_FillBox(TERM_BODY_X1, TERM_BODY_Y1, TERM_BODY_X2, TERM_BODY_Y2, CH_SPACE, COLOR_ORANGE, COLOR_BLACK);

		// prep for re-outputting serial to top part of serial panel area
		Text_SetXY(TERM_BODY_X1, TERM_BODY_Y1);	

		do
		{
			Serial_ProcessAvailableData();

			user_input = Keyboard_GetKeyIfPressed();
			
			if (user_input > 0)
			{
				//sprintf(global_string_buff1, "input: %x (%d)", user_input, user_input);
				//Buffer_NewMessage(global_string_buff1);

				if (user_input == (uint8_t)ACTION_SELECT_FONT_FNX)
				{
					App_ChangeUIFont(FONT_STD);
					Buffer_NewMessage(General_GetString(ID_STR_MSG_SELECT_FONT_FOENIX));
				}
				else if (user_input == (uint8_t)ACTION_SELECT_FONT_JA)
				{
					App_ChangeUIFont(FONT_STD_KANA);
					Buffer_NewMessage(General_GetString(ID_STR_MSG_SELECT_FONT_JA));
				}
				else if (user_input == (uint8_t)ACTION_SELECT_FONT_ANSI)
				{
					App_ChangeUIFont(FONT_STD_ANSI);
					Buffer_NewMessage(General_GetString(ID_STR_MSG_SELECT_FONT_ANSI));
				}
				else if (user_input == (uint8_t)ACTION_SELECT_FONT_IBM)
				{
					App_ChangeUIFont(FONT_IBM_ANSI);
					Buffer_NewMessage(General_GetString(ID_STR_MSG_SELECT_FONT_IBM));
				}
				else if (user_input >= ACTION_SET_BAUD_115200 && user_input <= ACTION_SET_BAUD_57600)
				{
					App_ChangeBaudRate(user_input - ACTION_SET_BAUD_115200);
				}
				else if (user_input == ACTION_CYCLE_COLOR)
				{
					Serial_CycleForegroundColor();
				}
				else if (user_input == ACTION_SET_TIME)
				{
					General_Strlcpy((char*)&global_dlg_title, General_GetString(ID_STR_DLG_SET_CLOCK_TITLE), COMM_BUFFER_MAX_STRING_LEN);
					General_Strlcpy((char*)&global_dlg_body_msg, General_GetString(ID_STR_DLG_SET_CLOCK_BODY), APP_DIALOG_WIDTH);
					global_string_buff2[0] = 0;	// clear whatever string had been in this buffer before
					
					success = Text_DisplayTextEntryDialog(&global_dlg, (char*)&temp_screen_buffer_char, (char*)&temp_screen_buffer_attr, global_string_buff2, 14); //YY-MM-DD HH-MM = 14
					
					if (success)
					{
						// user entered a date/time string, now try to parse and save it.
						success = Sys_UpdateRTC(global_string_buff2);
						App_DisplayTime();
					}
				}
				else if (user_input == ACTION_DEBUG_DUMP)
				{
					if (Serial_DebugDump() == true)
					{
						Buffer_NewMessage(General_GetString(ID_STR_MSG_DEBUG_DUMP));
					}
					else
					{
						Buffer_NewMessage(General_GetString(ID_STR_ERROR_GENERIC_DISK));
					}
				}
// 				else if (user_input == ACTION_ABORT_SESSION)
// 				{
// 					// user wants to abort connection. 
// 					// TODO: confirm with dialog
// 					// TODO: perform hang up action
// 					return;
// 				}
				else
				{
					Serial_SendByte(user_input);
					
					//Text_SetChar(user_input);
				}
			}

		} while (1==1);	//(user_input != '+');				
	} // while for exit loop
	
	// normal returns all handled above. this is a catch-all
	return;
}


// have serial change baud rate and show msg and label
void App_ChangeBaudRate(uint8_t new_config_index)
{
	app_current_baud_config = new_config_index;
	
	Serial_SetBaud(app_baud_config[app_current_baud_config].divisor_);

	App_EnterStealthTextUpdateMode();
	Buffer_NewMessage(General_GetString(app_baud_config[app_current_baud_config].msg_string_id_));	
	Text_DrawStringAtXY(TERM_BAUD_X1, TITLE_BAR_Y, General_GetString(app_baud_config[app_current_baud_config].lbl_string_id_), COLOR_BRIGHT_BLUE, COLOR_BLACK);
	App_ExitStealthTextUpdateMode();
}


// saves current cursor position and turns off visible cursor during non-serial UI updates
// call this when redrawing UI, updating baud display, etc, where you don't want cursor to leave terminal area
void App_EnterStealthTextUpdateMode(void)
{
	Sys_EnableTextModeCursor(false);
	Serial_ANSICursorSave();
}


// restores saved cursor position and turns on visible cursor after non-serial UI updates
// call this after redrawing UI, updating baud display, etc, where you don't want cursor to leave terminal area
void App_ExitStealthTextUpdateMode(void)
{
	Serial_ANSICursorRestore();
	Sys_EnableTextModeCursor(true);
}


/*****************************************************************************/
/*                        Public Function Definitions                        */
/*****************************************************************************/






// Draws the progress bar frame on the screen
void App_ShowProgressBar(void)
{
	Text_DrawHLine(UI_MIDDLE_AREA_START_X, PROGRESS_BAR_Y - 1, UI_MIDDLE_AREA_WIDTH, CH_UNDERSCORE, MENU_ACCENT_COLOR, APP_BACKGROUND_COLOR, CHAR_AND_ATTR);
	Text_DrawHLine(UI_MIDDLE_AREA_START_X, PROGRESS_BAR_Y,     UI_MIDDLE_AREA_WIDTH, CH_SPACE,      MENU_ACCENT_COLOR, APP_BACKGROUND_COLOR, CHAR_AND_ATTR);
	Text_DrawHLine(UI_MIDDLE_AREA_START_X, PROGRESS_BAR_Y + 1, UI_MIDDLE_AREA_WIDTH, CH_OVERSCORE,  MENU_ACCENT_COLOR, APP_BACKGROUND_COLOR, CHAR_AND_ATTR);
}

// Hides the progress bar frame on the screen
void App_HideProgressBar(void)
{
	Text_FillBox(UI_MIDDLE_AREA_START_X, PROGRESS_BAR_Y - 1, (UI_MIDDLE_AREA_START_X + UI_MIDDLE_AREA_WIDTH - 1), PROGRESS_BAR_Y + 1, CH_SPACE, MENU_ACCENT_COLOR, APP_BACKGROUND_COLOR);
}


// draws the 'bar' part of the progress bar, according to a % complete passed (0-100 integer)
void App_UpdateProgressBar(uint8_t progress_bar_total)
{
	// logic:
	//  - has access to 40 positions worth of status: 5 characters each with 8 slots
	//  - so 2.5% complete = |, 5% = ||, 25%=||||||||  || (imagine PETSCII) 
	//  - draws spaces for not-yet-reached char spaces
	//  - integer division (with non-signed) goes to floor. so 15/8 = 1 r7. 1 is the number of full blocks, 7 (minus 1) is the index to the partial block char

	uint8_t		i;
	uint8_t		full_blocks;
	uint8_t		the_char_code;
	uint8_t		progress_bar_char_index;

	progress_bar_total = (progress_bar_total > 100) ? 100 : progress_bar_total;
	
	full_blocks = progress_bar_total / PROGRESS_BAR_DIVISOR;
	progress_bar_char_index = progress_bar_total % PROGRESS_BAR_DIVISOR; // remainders will be 0-7: index to app_progress_bar_char[]

	for (i = 0; i < PROGRESS_BAR_WIDTH; i++)
	{
		if (i < full_blocks)
		{
			the_char_code = CH_PROGRESS_BAR_FULL;
		}
		else if (i == full_blocks && progress_bar_char_index > 0)
		{
			the_char_code = app_progress_bar_char[progress_bar_char_index];
		}
		else
		{
			the_char_code = CH_SPACE;
		}

		Text_SetCharAndColorAtXY(PROGRESS_BAR_START_X + i, PROGRESS_BAR_Y, the_char_code, COLOR_PROGRESS_BAR, COLOR_BLACK);
	}
}


// read the real time clock and display it
void App_DisplayTime(void)
{
	// LOGIC: 
	//   f256jr has a built in real time clock (RTC)
	//   it works like this:
	//     1) you enable it with bit 0 of RND_CTRL
	//     2) you turn on seed mode by setting bit 1 of RND_CTRL to 1.
	//     3) you populate RNDL and RNDH with a seed
	//     4) you turn off see mode by unsetting bit 1 of RND_CTRL.
	//     5) you get random numbers by reading RNDL and RNDH. every time you read them, it repopulates them. 
	//     6) resulting 16 bit number you divide by 65336 (RAND_MAX_FOENIX) to get a number 0-1. 
	//   I will use the real time clock to seed the number generator
	//  The clock should only be visible and updated when the main 2-panel screen is displayed
	
	
	uint8_t		old_rtc_control;
	
	if (global_clock_is_visible != true)
	{
		return;
	}

	// stop RTC from updating external registers. Required!
	old_rtc_control = R8(RTC_CONTROL);
	R8(RTC_CONTROL) = old_rtc_control | 0x08; // stop it from updating external registers
	
	// get year/month/day/hours/mins/second from RTC
	// below is subtly wrong, and i dno't care. don't need the datetime in a struct anyway.
	//global_datetime->year = R8(RTC_YEAR) & 0x0F + ((R8(RTC_YEAR) & 0xF0) >> 4) * 10;
	//global_datetime->month = R8(RTC_MONTH) & 0x0F + ((R8(RTC_MONTH) & 0x20) >> 4) * 10;
	//global_datetime->day = R8(RTC_DAY) & 0x0F + ((R8(RTC_DAY) & 0x30) >> 4) * 10;
	//global_datetime->hour = R8(RTC_HOURS) & 0x0F + ((R8(RTC_HOURS) & 0x30) >> 4) * 10;
	//global_datetime->min = R8(RTC_MINUTES) & 0x0F + ((R8(RTC_MINUTES) & 0x70) >> 4) * 10;
	//global_datetime->sec = R8(RTC_SECONDS) & 0x0F + ((R8(RTC_SECONDS) & 0x70) >> 4) * 10;

	sprintf(global_string_buff1, "20%02X-%02X-%02X %02X:%02X", R8(RTC_YEAR), R8(RTC_MONTH), R8(RTC_DAY), R8(RTC_HOURS), R8(RTC_MINUTES));
	
	// restore timer control to what it had been
	R8(RTC_CONTROL) = old_rtc_control;

	// draw at upper/right edge of screen, on app title bar.
	App_EnterStealthTextUpdateMode();
	Text_DrawStringAtXY(TERM_DATE_X1, TITLE_BAR_Y, global_string_buff1, COLOR_BRIGHT_YELLOW, COLOR_BLACK);
	App_ExitStealthTextUpdateMode();
}


// if ending on error: display error message, wait for user to confirm, and exit
// if no error, just exit
void App_Exit(uint8_t the_error_number)
{
	if (the_error_number != ERROR_NO_ERROR)
	{
		sprintf(global_string_buff1, General_GetString(ID_STR_MSG_FATAL_ERROR), the_error_number);
		Screen_ShowUserTwoButtonDialog(
			global_string_buff1, 
			ID_STR_MSG_FATAL_ERROR_BODY, 
			ID_STR_DLG_OK, 
			ID_STR_DLG_OK
			);
	}

	// close log file if debugging flags were passed
	#if defined LOG_LEVEL_1 || defined LOG_LEVEL_2 || defined LOG_LEVEL_3 || defined LOG_LEVEL_4 || defined LOG_LEVEL_5
		General_LogCleanUp();
	#endif
	
	// turn cursor back on
	Sys_EnableTextModeCursor(true);
	
	R8(0xD6A2) = 0xDE;
	R8(0xD6A3) = 0xAD;
	R8(0xD6A0) = 0xF0;
	R8(0xD6A0) = 0x00;
	//__asm(" jmp ($fffc)");
}


int _Stub_close(int fd)
{
	return 0;
}

int _Stub_open(const char *path, int oflag, ...)
{
	return 0;
}

size_t _Stub_write(int fd, const void *buf, size_t count)
{
	return 0;
}

size_t _Stub_read(int fd, void *buf, size_t count)
{
	return 0;
}

long _Stub_lseek(int fd, long offset, int whence)
{
	return 0;
}


int main(void)
{
	if (Sys_InitSystem() == false)
	{
		Text_ClearScreen(COLOR_GREEN, COLOR_DARK_GRAY);
		App_Exit(0);
	}

	// (also sets colors)
	Sys_AutoConfigure();
	
	Sys_SetBorderSize(0, 0); // want all 80 cols and 60 rows!
	
	// initialize the comm buffer - do this before drawing UI or garbage will get written into comms area
	Buffer_Initialize();
	
	// initialize the random number generator embedded in the Vicky
	Startup_InitializeRandomNumGen();
	
	// clear screen and draw logo
	Startup_ShowLogo();
	
	App_Initialize();
	
	App_MainLoop();
	
	// restore screen, etc.
	App_Exit(ERROR_NO_ERROR);
	
	return 0;
}